# Поля сущностей модуля торгового каталога

<p>Функционал работает с версии 11.0.</p>
### Инфоблоки, привязанные к модулю Торговый каталог


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| IBLOCK_ID | Код (ID) информационного блока | Int | да | - | Поле уникальное, попытка добавить больше одной записи с одинаковым IBLOCK_ID вызовет ошибку базы данных |
| YANDEX_EXPORT | Флаг (Y/N) экспорта в Яндекс.Маркет с помощью агента | Char(1) | нет | N | Не рекомендуется к использованию. Для выгрузки используется устаревший профиль экспорта. |
| SUBSCRIPTION | Флаг (Y/N) продажи контента | Char(1) | нет | N |  |
| VAT_ID | Код (ID) ставки НДС | Int | нет | 0 |  |
| PRODUCT_IBLOCK_ID | Для инфоблока торговых предложений (SKU) содержит код (ID) инфоблока товаров | Int | нет | 0 | Может быть задано только вместе с SKU_PROPERTY_ID |
| SKU_PROPERTY_ID | Для инфоблока торговых предложений (SKU) содержит код (ID) свойства привязки торговых предложений к товарам | Int | нет | 0 | Свойство должно отвечать следующим требованиям: одиночное, тип - Привязка к товарам (SKU), привязано к инфоблоку PRODUCT_IBLOCK_ID. Может быть задано только вместе с PRODUCT_IBLOCK_ID. |



---
### Параметры товаров


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| ID | Код (ID) продукта. | int | да | - | Совпадает с ID элемента из инфоблока - торгового каталога. При удалении записи из инфоблока удаляется и запись о параметрах товара. |  |  |  |  |  |  |  |  |  |  |  |  |
| QUANTITY | Количество товара на складе | double | да | - | Поле хранит количество товара на складе. В совокупности с полем QUANTITY_TRACE позволяет вести учет количества для разрешения/запрещения покупки. |  |  |  |  |  |  |  |  |  |  |  |  |
| QUANTITY_TRACE | Флаг "уменьшать ли количество при заказе" (Y/N) | char(1) | да | N | Если поле содержит Y, при оформлении заказа поле QUANTITY уменьшается на количество товара в заказе. |  |  |  |  |  |  |  |  |  |  |  |  |
| AVAILABLE | [Доступность товара к покупке](available.md) | char(1) | нет | N | Обновляется автоматически. | TYPE | Тип товара | char(1) | нет | - | Значения по умолчанию зависят от вида торгового каталога. | QUANTITY_RESERVED | Зарезервированное количество | double | нет | 0 | Поле заполняется автоматически, только при включении настройки в модуле. |
| AVAILABLE | [Доступность товара к покупке](available.md) | char(1) | нет | N | Обновляется автоматически. |  |  |  |  |  |  |  |  |  |  |  |  |
| TYPE | Тип товара | char(1) | нет | - | Значения по умолчанию зависят от вида торгового каталога. |  |  |  |  |  |  |  |  |  |  |  |  |
| QUANTITY_RESERVED | Зарезервированное количество | double | нет | 0 | Поле заполняется автоматически, только при включении настройки в модуле. |  |  |  |  |  |  |  |  |  |  |  |  |
| BUNDLE | Признак наличия набора | char(1) | нет | - | Обновляется автоматически. |  |  |  |  |  |  |  |  |  |  |  |  |
| TIMESTAMP_X | Дата и время модификации записи | datetime | да | текущее |  |  |  |  |  |  |  |  |  |  |  |  |  |
| PRICE_TYPE | Тип цены | char(1) | да | S | Используется для организации подписок. Варианты значений: - S - одноразовый платеж, - R - регулярные платежи, - T - пробная подписка |  |  |  |  |  |  |  |  |  |  |  |  |
| RECUR_SCHEME_TYPE | Тип периода подписки | char(1) | да | M | Варианты значений: - "H" - час, - "D" - сутки, - "W" - неделя, - "M" - месяц, - "Q" - квартал, - "S" - полугодие, - "Y" - год |  |  |  |  |  |  |  |  |  |  |  |  |
| RECUR_SCHEME_LENGTH | Длина периода подписки | int | нет | - | Продолжительность периода подписки. Единица продолжительности указана в RECUR_SCHEME_TYPE |  |  |  |  |  |  |  |  |  |  |  |  |
| TRIAL_PRICE_ID | Код (ID) товара, для которого данный товар является пробным | int | нет | - | Используется для пробных товаров |  |  |  |  |  |  |  |  |  |  |  |  |
| WITHOUT_ORDER | Флаг "Продление подписки без оформления заказа" (Y/N) | char(1) | да | N | Используется для подписок |  |  |  |  |  |  |  |  |  |  |  |  |
| VAT_ID | Идентификатор ставки НДС, привязанной к товару | int | нет | 0 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| VAT_INCLUDED | Флаг "включен ли НДС в цену или нет" (Y/N) | char(1) | нет | Y |  |  |  |  |  |  |  |  |  |  |  |  |  |
| LENGHT | Длина (мм) | float | нет | - | Может отсутствовать. Для услуг не заполняются. |  |  |  |  |  |  |  |  |  |  |  |  |
| WIDTH | Ширина (мм) | float | нет | - | Может отсутствовать. Для услуг не заполняются. |  |  |  |  |  |  |  |  |  |  |  |  |
| HEIGHT | Высота (мм) | float | нет | - | Может отсутствовать. Для услуг не заполняются. |  |  |  |  |  |  |  |  |  |  |  |  |
| SUBSCRIBE | Y/N/D - возможность подписки. | char(1) | нет | D | Значение по умолчанию берется из настроек модуля Торговый каталог - централизованное управление всеми товарами. |  |  |  |  |  |  |  |  |  |  |  |  |
| MEASURE | Идентификатор единицы измерения | int | нет | - |  |  |  |  |  |  |  |  |  |  |  |  |  |
| CAN_BUY_ZERO | Возможность продажи товаров "в минус" Y/N/D (, | float | нет | N | Имеет смысл только с QUANTITY_TRACE = Y или D (если включена настройка в модуле). |  |  |  |  |  |  |  |  |  |  |  |  |
| PURCHASING_PRICE, PURCHASING_CURRENCY | Величина и валюта закупочной цены. | char(3) | нет | - | При включении складского учёта меняется последним проведенным документом прихода/оприходования, не может быть использовано для партионного учета. |  |  |  |  |  |  |  |  |  |  |  |  |
| BARCODE_MULTI | Y/N - признак уникальности штрихкодов | float | нет | - | 1 единица товара - 1 штрихкод. Только при включенном складском учёте. |  |  |  |  |  |  |  |  |  |  |  |  |



---
### Типы цен


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Код (ID) типа цены | int | да | - |  |
| NAME | Внутреннее (языконезависимое) название типа цены | char(100) | да | - | Название, не зависящее от языка сайта (админки) |
| BASE | Флаг "базовый тип цены" (Y/N) | char(1) | да | N | Значение Y может быть только у одного типа цен. Базовый тип необходим для использования функционала наценок. |
| SORT | Индекс сортировки в списке типов цен | int | да | 100 |  |
| PRICE_SCALE | Цена в базовой валюте. | int | да | - | Пересчитывается автоматом при изменении полей PRICE и CURRENCY, а так же при изменении курса валют. Используется для сортировки цен в различных валютах. |



---
### Языковые параметры типов цен


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Код (ID) записи в таблице | int | да | - |  |
| CATALOG_GROUP_ID | Код (ID) типа цен | int | да |  |  |
| LID | Код языка | char(3) | да |  |  |
| NAME | Языкозависимое название | char(100) | нет |  |  |



---
### Доступ к типам цен


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Код (ID) записи в таблице | int | да |  |  |
| CATALOG_GROUP_ID | Код (ID) типа цен | int | да |  |  |
| GROUP_ID | Код (ID) группы пользователей сайта | int | да |  | Группа пользователей, которая имеет право просматривать цены указанного типа либо покупать по ним. Уровень прав (просмотр/покупка) определяется значением поля BUY. |
| BUY | Флаг "покупка/просмотр" (Y/N) | char(1) | да | Y |  |



---
### Цены (ценовые предложения)


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Код (ID) ценового предложения | int | да |  |  |
| PRODUCT_ID | Код товара или торгового предложения (ID элемента инфоблока) | int | да |  |  |
| EXTRA_ID | Код (ID) типа наценки | int | нет |  |  |
| CATALOG_GROUP_ID | Код (ID) типа цен | int | да |  |  |
| PRICE | Величина цены | decimal(18,2) | да |  |  |
| CURRENCY | Код валюты цены | char(3) | да |  |  |
| TIMESTAMP_X | Время модификации записи | datetime | да | текущее |  |
| QUANTITY_FROM | Минимальное количество товара, на которое распространяется предложение | int | нет |  |  |
| QUANTITY_TO | Максимальное количество товара, на которое распространяется предложение | int | нет |  |  |



---
### Наценки


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Код (ID) наценки | int | да |  |  |
| NAME | Название наценки | char(50) | да |  |  |
| PERCENTAGE | Величина наценки в процентах | decimal(18,2) | да |  |  |



---
### Скидки (устаревшее)


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Код (ID) скидки | int | да |  |  |
| SITE_ID | Сайт, к которому привязана скидка | char(2) | да |  |  |
| ACTIVE | Флаг активности скидки (Y/N) | char(1) | да | Y |  |
| ACTIVE_FROM | Дата, с которой действует скидка | datetime | нет |  |  |
| ACTIVE_TO | Дата, до которой действует скидка | datetime | нет |  |  |
| RENEWAL | Флаг "Скидка на продление" (Y/N) | char(1) | да | N |  |
| NAME | Название скидки | char(255) | да |  |  |
| COUPON |  | char(20) | да |  |  |
| SORT |  | int | да | 100 |  |
| VALUE_TYPE |  | char(1) | да | P | Варианты значений: - P - в процентах, - F - фиксированная величина - S - фиксированная цена |
| VALUE |  | decimal(18,4) | да | 0 |  |
| CURRENCY |  | char(3) | да |  |  |
| TIMESTAMP_X |  | datetime | да | текущее |  |
| NOTES |  | char(255) | нет |  |  |



---
### Купоны скидок


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Код (ID) купона | Int | да | - | поле уникальное, попытка добавить больше одной записи с одинаковым ID вызовет ошибку базы данных |
| DISCOUNT_ID | Код (ID) скидки | Int | да | - |  |
| ACTIVE | Флаг (Y/N) активности купона | Char(1) | да | Y | Если купон активен, то он может быть использован при покупке товара. Одноразовый купон после использования становится неактивным |
| COUPON | Сгенерированная последовательность символов, составляющая купон | Char(32) | да |  |  |
| DATE_APPLY | Дата и время, когда купон был использован | DateTime | нет |  | Автоматически устанавливается после применения одноразового купона |
| ONE_TIME | Флаг (Y/N) одноразовости купона | Char(1) | да | Y | Одноразовый купон может быть использован лишь единожды |
| DESCRIPTION | Текстовый комментарий | Text | нет |  |  |

---
### Склады


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Идентификатор склада | Int | да | - |  |
| TITLE | Название склада. | varchar(75) | нет | - | Может отсутствовать. |
| ACTIVE | Y/N. Активность склада | Char(1) | нет | Y |  |
| ADDRESS | Адрес. | varchar(245) | да | - | Если названия нет, используется в качестве названия. |
| DESCRIPTION | Описание. | string | нет | - |  |
| GPS_N | gps-координаты. | varchar(15) | нет | - |  |
| IMAGE_ID | ID изображения склада | Int | нет | - |  |
| PHONE | Телефон | varchar(45) | нет | - |  |
| SCHEDULE | График работы. | varchar(45) | нет | 0 | Может быть задано только вместе с SKU_PROPERTY_ID |
| XML_ID | Внешний код | varchar(255) | нет | - |  |
| SORT | Сортировка в списке складов. | Int | нет | 100 |  |
| EMAIL | e-mail | varchar(255) | нет | - |  |
| ISSUING_CENTER | Y/N. Склад самовывоза | Char(1) | нет | - |  |
| SITE_ID | Сайт. | Char(2) | да | - | Если отсутствует, склад привязан ко всем сайтам установки |
| CODE | Символьный код. | varchar(255) | да | - |  |
| IS_DEFAULT | Y/N. Склад по умолчанию (системный). | Char(1) | нет | - | Склад c Y не может быть удален и деактивирован |

---
### Товар на складе


| Поле | Описание | Тип | Обяз. | Умолч. | Комментарии |
| --- | --- | --- | --- | --- | --- |
| ID | Идентификатор записи | Int | да | - |  |
| PRODUCT_ID | Идентификатор товара | Int | да | - |  |
| AMOUNT DOUBLE | Количество на складе | Int | нет | - |  |
| STORE_ID | идентификатор склада | Int | да | - |  |

---
