# GetIBlockElementList


### Описание


```
CIBlockResult
GetIBlockElementList(
	int iblock_id,
	int section_id = false,
	array order = Array("SORT"=>"ASC"),
	int cnt = 0,
	array arFilter = Array()
);
```

Функция возвращает активные элементы из информационного блока *iblock_id*.

**Примечание:**функция является устаревшей, оставлена для обратной совместимости. Рекомендуется использоваться метод [GetList](../classes/ciblockelement/getlist.md).


#### Возвращаемое значение

Функция возвращает объект класса [CIBlockResult](../classes/ciblockresult/index.md) с активными элементами (у которых установлен флаг "Активен", выполняется условие периода активности и находящиеся в активных информационных блоках для текущего сайта).

**Примечание:**при работе с результатом рекомендуется применять метод класса [CDBResult](../../main/reference/cdbresult/index.md):: [GetNext()](../../main/reference/cdbresult/getnext.md), результатом которого будет массив с полями элемента информационного блока. Все поля при этом будут преобразованы в "HTML безопасный" вид, а в полях с шаблонами URL-ов к страницам (LIST_PAGE_URL - списка элементов и DETAIL_PAGE_URL - детального просмотра) будут заменены параметры `#SITE_DIR#`, `#IBLOCK_ID#`, `#EXTERNAL_ID#`и `#ID#`. Если результат пуст или достигнут конец выборки [CDBResult](../../main/reference/cdbresult/index.md):: [GetNext()](../../main/reference/cdbresult/getnext.md)вернет false. Также можно воспользоваться любыми другими методами класса [CDBResult](../../main/reference/cdbresult/index.md), но при этом в полях LIST_PAGE_URL и DETAIL_PAGE_URL будут оригинальные (как они введены в форме редактирования информационного блока) шаблоны URL-ов, а не с замененными параметрами `#SITE_DIR#`, `#IBLOCK_ID#`, `#EXTERNAL_ID#`и `#ID#`.

---
### Параметры функции


| Параметр | Описание |
| --- | --- |
| iblock_id | ID информационного блока из которого будут выбраны элементы. |
| section_id | ID раздела, из которой требуется получить элементы. Для получения элементов из корня информационного блока (не привязанные ни к одному разделу) установите параметр *section_id* = 0. Необязательный. По умолчанию (false) выбираются все записи без ограничения по папкам. |
| order | Порядок сортировки - массив вида Array(*by1*=>*order1*[, *by2*=>*order2* [, ..]]), где *by* - поле для сортировки, может принимать значения: - **sort** - индекс сортировки; **timestamp_x**- дата изменения; **name**- название; **id**- ID элемента; **active_from**- начало периода действия элемента; **active_to**- окончание периода действия элемента; **order**- порядок сортировки сортировки, может принимать значения: - **asc** - по возрастанию; **desc**- по убыванию. Необязательный. По умолчанию равен *Array("sort"=>"asc")* Полный список полей сортировки и дополнительную информацию [смотрите](../classes/ciblockelement/getlist.md) в [CIBlockElement](../classes/ciblockelement/index.md)::[GetList()](../classes/ciblockelement/getlist.md) |
| cnt | Максимальное количество записей, которые вернет функция. Необязательный. По умолчанию выбираются все записи. |
| arFilter | Дополнительный фильтр по произвольным полям вида Array("Фильтруемое поле"=>"Значение", ...). *Фильтруемое поле* может принимать значения: - **ID** - по коду; **ACTIVE**- фильтр по активности (Y\|N); передача пустого значения ( *"ACTIVE"=>""*) выводит все элементы без учета их состояния; **NAME**- по имени и фамилии (можно искать по шаблону [%_]); **PREVIEW_TEXT**- по имени и фамилии (можно искать по шаблону [%_]); **DETAIL_TEXT**- по детальному описанию (можно искать по шаблону [%_]); **SEARCHABLE_CONTENT**- по содержимому для поиска. Включает в себя название, описание для анонса и детальное описание (можно искать по шаблону [%_]); **CODE**- по символьному идентификатору (можно искать по шаблону [%_]); **SORT**- по сортировке; **EXTERNAL_ID**- по внешнему коду (можно искать по шаблону [%_]); **TIMESTAMP_X**- по времени изменения; **DATE_CREATE**- по времени создания; **DATE_ACTIVE_FROM**- по дате начала активности; **DATE_ACTIVE_TO**- по дате окончанию активности; **ACTIVE_DATE**- непустое значение задействует фильтр по датам активности ( *DATE_ACTIVE_FROM*и *DATE_ACTIVE_TO*). Если значение не установлено ( *""*), фильтрация по датам активности не производится; **IBLOCK_ID**- по коду информационного блока; **IBLOCK_CODE**- по символьному коду информационного блока (можно искать по шаблону [%_]); **IBLOCK_LID**- по языку (можно искать по шаблону [%_]); **IBLOCK_TYPE**- по типу блока (можно искать по шаблону [%_]); **IBLOCK_ACTIVE**- по активности блока (можно искать по шаблону [%_]); **SECTION_ID**- по родительскому разделу; **PROPERTY_<код свойства>**- фильтр по значениям свойств (можно искать по шаблону [%_]), для свойств типа "список", поиск будет осуществляться не по значению перечисления, а по его идентификатору; **PROPERTY_<код свойства>_VALUE**- фильтр по значениям списка для свойств типа "список" (можно искать по шаблону [%_]), поиск будет осуществляться по строковому значению списка, а не по идентификатору; **CATALOG_<CATALOG_FIELD>_<PRICE_TYPE>**- по полю *CATALOG_FIELD*из цены типа *PRICE_TYPE*(ID типа цены), где *CATALOG_FIELD*может быть: *PRICE*- цена, *CURRENCY*- валюта. Все фильтруемые поля (кроме *SECTION_ID*и *ACTIVE_DATE*)могут содержать перед названием **тип проверки фильтра**, а поля *SECTION_ID*и *ACTIVE_DATE*могут содержать перед названием тип проверки фильтра "!" - не равно. *Значения фильтра* - одиночное значение или массив. Необязательный. По умолчанию - пустой массив. Полный список полей фильтра и дополнительную информацию [смотрите](../classes/ciblockelement/getlist.md) в **CIBlockElement::GetList().** |

---
### Смотрите также


- [Поля элементов информационного блока](../fields.md#felement) [Функция GetIBlockElementListEx](getiblockelementlistex.md)

---
### Примеры использования


```
<?
if(CModule::IncludeModule("iblock"))
{
	// выберем 10 элементов из папки $ID информационного блока $BID
	$items = GetIBlockElementList($_GET['BID'], $_GET['ID'], Array("SORT"=>"ASC"), 10);
	$items->NavPrint("Товары");
	while($arItem = $items->GetNext())
	{
		echo $arItem["NAME"]."<br>";
		echo $arItem["PREVIEW_TEXT"]."<br>";
	}
	$items->NavPrint("Товары");
}
?>
```

---
