# Класс CSubscriptionGeneral

**CSubscriptionGeneral** - класс для работы с подписками на рассылки.


#### Методы класса


| Метод | Описание | C версии |
| --- | --- | --- |
| Add | Метод добавляет подписку на рассылки и отправляет подписчику письмо с кодом подтверждения подписки (если не указано не отправлять). | 3.0.5 |
| Authorize | Авторизует посетителя для доступа к редактированию подписки. Признак успешной авторизации сохраняется в PHP-сессии. | 3.3.2 |
| ConfirmEvent | Метод добавляет событие SUBSCRIBE_CONFIRM для отправки подписчику письма с кодом подтверждения подписки. Письмо формируется по шаблону типа "SUBSCRIBE_CONFIRM - Подтверждение подписки". | 3.0.5 |
| Delete | Метод удаляет подписку. | 3.0.5 |
| GetByID | Метод выбирает подписку по ее идентификатору. | 3.0.5 |
| GetList | Метод выбирает список подписок по фильтру. | 3.0.5 |
| GetRubricArray | Метод возвращает массив идентификаторов рассылок, на которые подписан данный адрес. | 3.0.5 |
| GetRubricList | Метод возвращает выборку рассылок, на которые подписан данный адрес. | 3.0.5 |
| GetUserSubscription | Метод возвращает массив полей подписки текущего пользователя. Подписка определяется по Email, сохраненному в куках посетителя, либо по Email авторизованного пользователя. | 3.0.5 |
| IsAuthorized | Метод проверяет, авторизован ли текущий посетитель для доступа к информации о подписке. | 3.3.2 |
| Update | Метод изменяет данные подписки. Если изменяется адрес подписки, то Метод снимает подтверждение с подписки и генерирует событие для отправки письма с кодом подтверждения подписки (если это явно не запрещено). Если подписка не подтверждена, а массив полей включает в себя правильный CONFIRM_CODE, то подписка подтверждается. | 3.0.5 |
