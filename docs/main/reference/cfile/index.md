# Класс CFile


### Описание и поля

Класс для работы с файлами и изображениями.

Аналог класса в новом ядре D7 - *Bitrix\Main\FileTable*.


#### Поля


| Поле | Тип | Описание |
| --- | --- | --- |
| ID | int | ID файла. |
| TIMESTAMP_X | timestamp | Дата изменения записи. |
| MODULE_ID | varchar(50) | Идентификатор модуля которому принадлежит файл. |
| HEIGHT | int | Высота изображения (если файл - графический). |
| WIDTH | int | Ширина изображения (если файл - графический). |
| FILE_SIZE | int | Размер файла (байт). |
| CONTENT_TYPE | varchar(255) | MIME тип файла. |
| SUBDIR | varchar(255) | Подкаталог в котором находится файл на диске. Основной каталог для хранения файлов задается в параметре "Папка по умолчанию для загрузки файлов" в настройках главного модуля, значение данного параметра программно можно получить с помощью вызова метода: ``` COption::GetOptionString("main", "upload_dir", "upload"); ``` |
| FILE_NAME | varchar(255) | Имя файла на диске сервера. |
| ORIGINAL_NAME | varchar(255) | Оригинальное имя файла в момент загрузки его на сервер. |
| DESCRIPTION | varchar(255) | Описание файла. |

---
### Список методов


| Метод | Описание | с версии |
| --- | --- | --- |
| GetByID | Возвращает информацию по одному зарегистрированному файлу. | 3.1.6 |
| GetList | Возвращает отсортированную и отфильтрованную выборку зарегистрированных файлов. | 7.0.2 |
| GetPath | Метод возвращает путь от корня сайта к зарегистрированному файлу. | 3.3.21 |
| ShowImage | Возвращает HTML для показа изображения. |  |
| Show2Images | Возвращает HTML для показа изображения при клике на которое в отдельном окне отображается другое изображение. | 3.2.1 |
| CheckFile | Проверяет размер, расширение и mime тип файла. В случае ошибки метод вернет строку с текстом ошибки. |  |
| CheckImageFile | Проверяет что файл является картинкой и проверяет ее параметры. В случае ошибки метод вернет строку с текстом ошибки. |  |
| IsImage | Метод проверяет расширение и заданный MIME тип файла. Если расширение и MIME тип файла соответствуют изображению, то возвращает "true", иначе "false". | 3.3.18 |
| MakeFileArray | Метод формирует массив описывающий файл. Структура массива аналогична структуре массива $_FILES[имя] (или $HTTP_POST_FILES[имя]). Данный массив может быть использован в методах CFile::SaveFile, CFile::CheckFile, CFile::CheckImageFile. | 3.2.9 |
| InputFile | Возвращает HTML код предназначенный для загрузки нового, либо замены существующего файла. |  |
| SaveFile | Сохраняет файл и регистрирует его в таблице файлов. |  |
| SaveForDB | Сохраняет файл и подготавливает данные для вставки/обновления записи в БД, содержащей ссылку на файл | 7.1.0 |
| UpdateDesc | Обновляет описание к зарегистрированному файлу. | 3.3.21 |
| CopyFile | Копирует зарегистрированный файл. | 3.0.14 |
| Delete | Удаляет файл из таблицы зарегистрированных файлов и с диска. |  |
| FormatSize | Метод переводит байты в единицы с учетом языка, установленного в текущем сайта.. | 8.6.4 |
| GetFileArray | Возвращает массив описывающий файл с заданным идентификатором. | 5.1.8 |
| ResizeImageFile | Метод производит изменение размера графического файла | 7.1.1 |
| ResizeImageGet | Метод уменьшает картинку. | 7.1.1 |
| ResizeImage | Обертка ResizeImageFile | 7.1.1 |

---




| ![](../images/d17c143406.jpg) 8 **Иван Левый**15.05.2009 14:09:13 |
| --- |
| Так же в классе CFile есть функция CFile::GetFileArray() которая возвращает результат действия функций CFile::GetById() и CFile::GetPath(). Это бывает удобно, например, когда нужно получить одной функцией и имя файла, и путь к нему на сервере. |
|  |
