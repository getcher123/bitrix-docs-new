# FormatDate


### Описание и параметры


```
string
FormatDate(
	string format,
	int timestamp,
	int now = time(),
);
```

Функция возвращает строку отформатированную в соответствии с заданным форматом основываясь на значении времени выраженного в timestamp.

**Примечание**: фактически эта функция является оберткой для php функции [date.](http://ru2.php.net/manual/en/function.date.php)


#### Параметры метода


| Параметр | Описание | С версии |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| *format* | Формат даты/времени. Кроме стандартных символов поддерживаются расширения: \| Формат \| Значение \| Пример \| \| \| --- \| --- \| --- \| --- \| \| sago \| N секунд назад \| 2 секунды назад \| \| \| sdiff \| N секунд \| 1 секунда \| \| \| iago \| N минут назад \| 11 минут назад \| \| \| idiff \| N минут \| 32 минуты \| \| \| isago \| N минут M секунд назад \| 4 минуты 12 секунд назад \| \| \| Hago \| N часов назад \| 1 час назад \| \| \| Hdiff \| N часов \| 3 часа \| \| \| yesterday \| константа \| вчера \| \| \| today \| константа \| сегодня \| \| \| dago \| N дней назад \| 2 дня назад \| \| \| ddiff \| N дней \| 8 дней \| \| \| mdiff \| N месяцев \| 6 месяцев \| \| \| Ydiff \| N лет \| 2 года \| \| \| F \| название месяца в родительном падеже \| Января \| \| \| f \| название месяца в именительном падеже \| Январь \| \| \| M \| сокращенное название месяца \| Янв \| \| \| l \| название дня недели \| Воскресенье \| \| \| D \| сокращенное название дня недели \| Вс \| \| \| x \| интервал времени в зависимости от его величины. \| 32 секунды назад 49 минут назад сегодня, 14:33 вчера, 12:32 или в формате сайта без секунд. \| \| \| X \| интервал времени в зависимости от его величины. \| сегодня вчера или в формате сайта без секунд. \| \| \| Q \| интервал времени в зависимости от его величины. \| 1 день 22 дня 3 месяца 12 лет \| \| | Формат | Значение | Пример | sago | N секунд назад | 2 секунды назад | sdiff | N секунд | 1 секунда | iago | N минут назад | 11 минут назад | idiff | N минут | 32 минуты | isago | N минут M секунд назад | 4 минуты 12 секунд назад | Hago | N часов назад | 1 час назад | Hdiff | N часов | 3 часа | yesterday | константа | вчера | today | константа | сегодня | dago | N дней назад | 2 дня назад | ddiff | N дней | 8 дней | mdiff | N месяцев | 6 месяцев | Ydiff | N лет | 2 года | F | название месяца в родительном падеже | Января | f | название месяца в именительном падеже | Январь | M | сокращенное название месяца | Янв | l | название дня недели | Воскресенье | D | сокращенное название дня недели | Вс | x | интервал времени в зависимости от его величины. | 32 секунды назад 49 минут назад сегодня, 14:33 вчера, 12:32 или в формате сайта без секунд. |  | X | интервал времени в зависимости от его величины. | сегодня вчера или в формате сайта без секунд. | Q | интервал времени в зависимости от его величины. | 1 день 22 дня 3 месяца 12 лет |  |
| Формат | Значение | Пример |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| sago | N секунд назад | 2 секунды назад |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| sdiff | N секунд | 1 секунда |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| iago | N минут назад | 11 минут назад |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| idiff | N минут | 32 минуты |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| isago | N минут M секунд назад | 4 минуты 12 секунд назад |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| Hago | N часов назад | 1 час назад |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| Hdiff | N часов | 3 часа |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| yesterday | константа | вчера |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| today | константа | сегодня |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| dago | N дней назад | 2 дня назад |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| ddiff | N дней | 8 дней |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| mdiff | N месяцев | 6 месяцев |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| Ydiff | N лет | 2 года |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| F | название месяца в родительном падеже | Января |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| f | название месяца в именительном падеже | Январь |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| M | сокращенное название месяца | Янв |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| l | название дня недели | Воскресенье |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| D | сокращенное название дня недели | Вс |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| x | интервал времени в зависимости от его величины. | 32 секунды назад 49 минут назад сегодня, 14:33 вчера, 12:32 или в формате сайта без секунд. |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| X | интервал времени в зависимости от его величины. | сегодня вчера или в формате сайта без секунд. |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| Q | интервал времени в зависимости от его величины. | 1 день 22 дня 3 месяца 12 лет |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| *timestamp* | метка времени в Unix формате |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| *now* | метка времени в unix формате от которой будут вычисляться интервалы. По умолчанию - time(). | 9.5.7 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |


#### Примечания

В форматах 'x' и 'X' реализована поддержка будущего времени. Если значение параметра *timestamp*больше значения параметра *now*(находится в будущем), то форматы "X" и "x" вернут время в формате сайта без секунд.

#### Возвращаемое значение

Отформатированная строка.


#### Смотрите также


- MakeTimeStamp

---
### Примеры использования


```
<?
$rsUser = CUser::GetList($by, $order, array(
	"ID_EQUAL_EXACT" => $USER->GetID()
));
if($arUser = $rsUser->Fetch())
{
	echo "Зарегистрирован на сайте: ",FormatDate("Q", MakeTimeStamp($arUser["DATE_REGISTER"])),".";
}
?>
```

---




| ![image](../images/7dd82aba60.gif) 1 **Дмитрий**28.05.2019 13:06:45 |  |  |
| --- | --- | --- |
| Правильный вариант вывода даты и времени с учетом часового пояса пользователя: \| Код \| \| --- \| \| ``` FormatDate("x", MakeTimeStamp($row['DATE_CREATE']) + CTimeZone::GetOffset()) ``` \| | Код | ``` FormatDate("x", MakeTimeStamp($row['DATE_CREATE']) + CTimeZone::GetOffset()) ``` |
| Код |  |  |
| ``` FormatDate("x", MakeTimeStamp($row['DATE_CREATE']) + CTimeZone::GetOffset()) ``` |  |  |
|  |  |  |


| ![](../images/13547f9cad.jpeg) 3 **Антон Долганин**25.09.2013 15:04:21 |  |  |
| --- | --- | --- |
| Метод довольно обширный и позволяет форматировать дату как угодно. К примеру, время вынесем за span: \| Код \| \| --- \| \| ``` <?= FormatDate('<\s\p\a\n>j F Y г.</\s\p\a\n> H:i', $time)?> ``` \| Слеш проставлен специально, чтобы символы не считались как форматирующие. | Код | ``` <?= FormatDate('<\s\p\a\n>j F Y г.</\s\p\a\n> H:i', $time)?> ``` |
| Код |  |  |
| ``` <?= FormatDate('<\s\p\a\n>j F Y г.</\s\p\a\n> H:i', $time)?> ``` |  |  |
|  |  |  |


| ![](../images/0bd835bc03.png) 12 **Игорь Шевчик**08.08.2012 09:37:41 |  |  |
| --- | --- | --- |
| Пример разных интервалов для даты \| Код \| \| --- \| \| ``` FormatDate(array( "tommorow" => "tommorow", // выведет "завтра", если дата завтрашний день "today" => "today", // выведет "сегодня", если дата текущий день "yesterday" => "yesterday", // выведет "вчера", если дата прошлый день "d" => 'j F', // выведет "9 июля", если месяц прошел "" => 'j F Y', // выведет "9 июля 2012", если год прошел ), MakeTimeStamp($arDay["ACTIVE_FROM"]), time() ); ``` \| | Код | ``` FormatDate(array( "tommorow" => "tommorow", // выведет "завтра", если дата завтрашний день "today" => "today", // выведет "сегодня", если дата текущий день "yesterday" => "yesterday", // выведет "вчера", если дата прошлый день "d" => 'j F', // выведет "9 июля", если месяц прошел "" => 'j F Y', // выведет "9 июля 2012", если год прошел ), MakeTimeStamp($arDay["ACTIVE_FROM"]), time() ); ``` |
| Код |  |  |
| ``` FormatDate(array( "tommorow" => "tommorow", // выведет "завтра", если дата завтрашний день "today" => "today", // выведет "сегодня", если дата текущий день "yesterday" => "yesterday", // выведет "вчера", если дата прошлый день "d" => 'j F', // выведет "9 июля", если месяц прошел "" => 'j F Y', // выведет "9 июля 2012", если год прошел ), MakeTimeStamp($arDay["ACTIVE_FROM"]), time() ); ``` |  |  |
|  |  |  |


| ![](../images/0bd835bc03.png) 2 **Игорь Шевчик**28.06.2012 19:07:34 |  |  |
| --- | --- | --- |
| Допустим есть количество месяцев: 26 Конструкция вида \| Код \| \| --- \| \| ``` FormatDate("Q", mktime(0, 0, 0, date("m")-26 , date("d"), date("Y"))); ``` \| Даст запись 2 года | Код | ``` FormatDate("Q", mktime(0, 0, 0, date("m")-26 , date("d"), date("Y"))); ``` |
| Код |  |  |
| ``` FormatDate("Q", mktime(0, 0, 0, date("m")-26 , date("d"), date("Y"))); ``` |  |  |
|  |  |  |


| ![](../images/13547f9cad.jpeg) 4 **Антон Долганин**27.03.2012 12:21:53 |  |  |
| --- | --- | --- |
| Если мы используем часовые пояса, третий параметр обязательно надо передать, причем сразу со сдвигом: \| Код \| \| --- \| \| ``` FormatDate('x', $arItem['POST_DATE_UNIX'], time()+CTimeZone::GetOffset()); ``` \| | Код | ``` FormatDate('x', $arItem['POST_DATE_UNIX'], time()+CTimeZone::GetOffset()); ``` |
| Код |  |  |
| ``` FormatDate('x', $arItem['POST_DATE_UNIX'], time()+CTimeZone::GetOffset()); ``` |  |  |
|  |  |  |
