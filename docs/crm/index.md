# crm — CRM

Перед использованием модуля необходимо проверить, установлен ли он, и подключить его при помощи конструкции:


```
<?
if(CModule::IncludeModule("crm"))
{
	//здесь можно использовать функции и классы модуля
}
?>
```

Модуль включает в себя следующие Компоненты 2.0:


### Компании


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Компании (комплексный компонент)** | **crm.company** | Позволяет управлять списком компаний. |
| **Список компаний** | **crm.company.list** | Выводит список компаний. |
| **Редактирование компании** | **crm.company.edit** | Позволяет добавлять новую, или редактировать параметры имеющейся компании. |
| **Просмотр компании** | **crm.company.show** | Осуществляет вывод детального описания компании. |
| **Панель инструментов** | **crm.company.menu** | Позволяет настроить верхнее меню сущности. |
| Импорт компаний* | **crm.company.menu** | Позволяет импортировать список компаний. |
| * отмечены системные компоненты (не описываются) |  |  |

---
### Контакты


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Контакты (комплексный компонент)** | **crm.contact** | Позволяет управлять списком контактов. |
| **Список контактов** | **crm.contact.list** | Выводит список контактов. |
| **Редактирование контакта** | **crm.contact.edit** | позволяет добавлять новый, или редактировать параметры имеющегося контакта. |
| **Просмотр контакта** | **crm.contact.show** | Осуществляет вывод детального описания контакта. |
| **Панель инструментов** | **crm.contact.menu** | Позволяет настроить верхнее меню сущности. |
| Экспорт* | **crm.contact.export** | Предназначен для экспорта контактов в формате **.xml**. |
| Импорт контактов* | **crm.contact.import** | Предназначен для импорта списка контактов в формате **CSV**. |
| Импорт сделок* | **crm.deal.import** | Предназначен для импорта списка сделок в формате **CSV**. |
| Веб сервис* | **crm.contact.webservice** | Предназначен для создания и экспорта контактов. |
| * отмечены системные компоненты (не описываются) |  |  |

---
### Лиды


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Лиды (комплексный компонент)** | **crm.lead** | Позволяет работать с лидами. |
| **Список лидов** | **crm.lead.list** | Выводит список лидов. |
| **Редактирование лида** | **crm.lead.edit** | Позволяет создать новый, либо редактировать существующий лид. |
| **Просмотр лида** | **crm.lead.show** | Осуществляет вывод детального описания лида. |
| **Туллбар** | **crm.lead.menu** | Позволяет настроить верхнее меню сущности. |
| **Конвертация лида** | **crm.lead.convert** | Позволяет конвертировать лид в контакт, компанию или сделку. |
| Импорт лидов* | **crm.lead.import** | Предназначен для импорта списка лидов в формате **CSV**. |
| Веб-сервис* | **crm.lead.webservice** | Сервис для создания лида. |
| Обработчик REST* | **crm.lead.rest** | Обработчик REST для создания лида. |
| * отмечены системные компоненты (не описываются) |  |  |

---
### Настройки


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Настройки пользовательских полей (комплексный компонент)** | **crm.config.fields** | Позволяет выполнить настройку пользовательских полей в модуле CRM. |
| **Список пользовательских полей** | **crm.config.fields.list** | Выводит список пользовательских полей модуля CRM. |
| **Список типов пользовательских полей** | **crm.config.fields.types** | Выводит список типов пользовательских полей модуля CRM. |
| **Настройка пользовательского поля** | **crm.config.fields.edit** | Позволяет выполнить настройку пользовательского поля модуля CRM. |
| **Настройки прав доступа (комплексный компонент)** | **crm.config.perms** | Позволяет выполнить настройку прав доступа к модулю CRM. |
| Настройка Send&Save* | **crm.config.sendsave** | Настройка интеграции с Send&Save в модуле CRM. |
| Настройка статусов* | **crm.config.status** | Позволяет выполнить настройку статусов модуля CRM. |
| * отмечены системные компоненты (не описываются) |  |  |

---
### Сделки


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Сделки (комплексный компонент)** | **crm.deal** | Позволяет работать со сделками. |
| **Воронка продаж** | **crm.deal.funnel** | Выводит количественное соотношение сделок на разных стадиях выполнения. |
| **Список сделок** | **deal.list** | Выводит список сделок. |
| **Редактирование сделки** | **crm.deal.edit** | Позволяет создать новую, либо редактировать существующую сделку. |
| **Просмотр сделки** | **crm.deal.show** | Осуществляет вывод детального описания сделки. |
| **Панель инструментов** | **crm.deal.menu** | Позволяет настроить верхнее меню сущности. |

---
### Действия


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Дела (комплексный компонент)** | **crm.activity.calendar.list** | Выводит список записей календаря. |
| **Список задач** | **crm.activity.task.list** | Выводит список задач. |
| **Список звонков/встреч** | **crm.activity.calendar.list** | Выводит список записей календаря. |

---
### Счета


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Счета (комплексный компонент)** | **crm.invoice** | Позволяет работать со счетами в CRM. |
| **Список счетов** | **crm.invoice.list** | Выводит список счетов. |
| **Редактирование счета** | **crm.invoice.edit** | Добавляет новый, или позволяет редактировать параметры имеющегося счёта. |
| **Просмотр счета** | **crm.invoice.show** | Выводит детальное описание счёта. |
| **Панель инструментов** | **crm.invoice.menu** | Позволяет настроить контентное меню сущности. |
| Просмотр счета в формате HTML/PDF* | **crm.invoice.payment** | Просмотр счета в формате HTML/PDF. |
| * отмечены системные компоненты (не описываются) |  |  |

---
### Товары


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Товары (комплексный компонент)** | **crm.product** | Позволяет управлять товарами сделок CRM. |
| **Список товаров** | **crm.product.list** | Выводит список товаров системы CRM. |
| **Список разделов** | **crm.product.section.list** | Позволяет управлять списком разделов выбранного каталога. |
| **Редактирование товара** | **crm.product.edit** | Позволяет редактировать существующий, либо добавить новый товар. |
| **Просмотр товара** | **crm.product.show** | Выводит детальное описание товара. |
| **Туллбар** | **crm.product.menu** | Позволяет настроить контентное меню для работы с каталогами и товарами. |

---
### Дополнительно


| **Компоненты модуля** |  |  |
| --- | --- | --- |
| **Название** | **Имя в пространстве имен bitrix** | **Описание** |
| **Просмотр событий** | **crm.event.view** | Выводит список действий, произведенных над сущностями системы CRM. |
| **Отчеты (комплексный компонент)** | **crm.report** | Составляет отчеты по работе в CRM. |
| **Просмотр событий счета** | **crm.invoice.events** | Выводит список действий, произведенных над счетами системы CRM. |
| * отмечены системные компоненты (не описываются) |  |  |

---




| ![image](../images/7dd82aba60.gif) 0 **Иван Шум**03.02.2016 10:27:47 |  |  |
| --- | --- | --- |
| Добавление контакта с телефоном: \| Код \| \| --- \| \| ``` $arFields = array( "LAST_NAME" => $arName[0], "NAME" => $arName[1], "SECOND_NAME" => $arName[2], "FM" => array( "PHONE" => array( "n1" => array( "VALUE" => $arContr["phone"], "VALUE_TYPE" => "MOBILE" ), ), ), "ASSIGNED_BY_ID" => $managerID, ); $oContact = new CCrmContact(); if($res = $oContact->Add($arFields)){ }else{ echo $oContact->LAST_ERROR."<br />"; } ``` \| | Код | ``` $arFields = array( "LAST_NAME" => $arName[0], "NAME" => $arName[1], "SECOND_NAME" => $arName[2], "FM" => array( "PHONE" => array( "n1" => array( "VALUE" => $arContr["phone"], "VALUE_TYPE" => "MOBILE" ), ), ), "ASSIGNED_BY_ID" => $managerID, ); $oContact = new CCrmContact(); if($res = $oContact->Add($arFields)){ }else{ echo $oContact->LAST_ERROR."<br />"; } ``` |
| Код |  |  |
| ``` $arFields = array( "LAST_NAME" => $arName[0], "NAME" => $arName[1], "SECOND_NAME" => $arName[2], "FM" => array( "PHONE" => array( "n1" => array( "VALUE" => $arContr["phone"], "VALUE_TYPE" => "MOBILE" ), ), ), "ASSIGNED_BY_ID" => $managerID, ); $oContact = new CCrmContact(); if($res = $oContact->Add($arFields)){ }else{ echo $oContact->LAST_ERROR."<br />"; } ``` |  |  |
|  |  |  |

<!-- vault-nav:start -->
## В этой папке

<details>
<summary>Показать файлы и папки</summary>

### Папки

- [Классы](classes/index.md)

### Файлы

- [Константы](constants.md)
- [CRM в ядре D7](crm_d7.md)
- [События](crm_events.md)
- [Основные методы работы](example.md)
- [CRM-формы и Виджет на сайт](forms.md)

</details>

<!-- vault-nav:end -->
