# CReport

**CReport** - класс для манипуляций с отчётами.


| Класс | Описание | С версии |
| --- | --- | --- |
| Update | Изменяет существующий отчёт. |  |
| Add | Добавляет новый отчёт. |  |
| GetList | Добавляет новый отчёт. | 14.1.1 |
| Delete | Удаляет существующий отчёт. | 14.1.1 |
| setViewParams | Сохраняет параметры просмотра отчёта текущего пользователя. | 14.1.1 |
| getViewParams | Позволяет получить параметры просмотра отчёта текущего пользователя. | 14.1.1 |
| generateChains | Формирует дерево объектов с полным набором всех полей, необходимых для формирования запроса выборки данных для каждого доступного поля отчёта. | 14.1.1 |
| generateColumnTree | Формирует дерево с описанием доступных в отчёте полей с привязками к цепочкам сущностей. | 14.1.1 |
| clearViewParams | Очищает все сохранённые параметры просмотра отчёта с идентификатором `id` для текущего пользователя. | 14.1.1 |
| attachLangToColumnTree | Загружает языковые фразы для полей отчёта, используя описания сущностей и вспомогательный класс отчёта. | 14.1.1 |
| fillFilterReferenceColumns | Проверяет, с использованием метода fillFilterReferenceColumn вспомогательного класса, корректность значений фильтров, ссылающихся на сущности. | 14.1.1 |
| GetCountInt | Позволяет получить количество отчётов пользователя, соответствующих `ownerId`, или всех отчётов пользователя, если не указан `ownerId`. | 14.1.1 |
| getFullColumnTitle | Дополняет название колонки отчёта суффиксами соответствующими настройкам этой колонки. | 14.1.1 |
| prepareSelectViewElement | Формирует алиас и выражение для поля, учитывая опции, выбранные для него в настройках отчёта. | 14.1.1 |
| isColumnPercentable | Определяет, может ли вычисляться процент от заданной колонки отчёта. | 14.1.1 |
| rewriteUserShortName | Преобразует поля с составными именами пользователей в вычисляемые на уровне базы данных и возвращающие имена в заданном формате. | 14.1.1 |
| generateValueUrl | Формирует ссылки, отображаемые в отчёте, на основе шаблонов, сформированных методом appendHrefSelectElements, и данных конкретных значений. | 14.1.1 |
| appendHrefSelectElements | Добавляет информацию, необходимую для построения ссылок для значений, отображаемых в отчёте. | 14.1.1 |
| getUniqueFieldsByTree | Формирует полный список доступных в отчёте полей из основной и связанных сущностей на основе информации, возвращаемой методом generateColumnTree. | 14.1.1 |
| isValidFilterCompareVariation | Проверяет применимость операции сравнения к полю отчёта в фильтре. | 14.1.1 |
| addFreshDefaultReports | Добавляет отчёты по умолчанию. | 14.1.1 |
| isColumnTotalCountable | Определяет, может ли вычисляться итоговое значение для заданной колонки отчёта. | 14.1.1 |
| sqlizeFilter | Преобразует фильтр из внутреннего формата модуля отчётов в представление, подходяещее для использования в методе *setFilter* класса *\Bitrix\Main\Entity\Query* с сохранением древовидной структуры фильтра. | 14.1.1 |
| makeSingleFilter | Преобразует фильтр из внутреннего формата модуля отчётов в представление, подходящее для использования в методе *setFilter* класса *\Bitrix\Main\Entity\Query* с преобразованием древовидной структуры в последовательную. | 14.1.1 |
| collectFullHumanTitles | Формирует массив названий для всех доступных полей отчёта на основе информации, возвращаемой методом generateColumnTree. | 14.1.1 |
| getFormattedNameExpr | Формирует выражение вычисляемого поля для метода rewriteUserShortName в соответствии с заданным форматом имени пользователя. | 14.1.1 |
