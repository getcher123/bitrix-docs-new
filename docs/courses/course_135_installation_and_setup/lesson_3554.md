# Битрикс и хостинг

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 30130 — Ошибка: Удалите настройку PHP mbstring.func_overload](lesson_30130.md)
- [Следующий: 2559 — Перенос сайтов в многосайтовой конфигурации →](lesson_2559.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=135&LESSON_ID=3554

### Что нужно учитывать

Особенности платформы Bitrix Framework в плане хостинга:

- Наличие  достаточного места на диске для создания большого количества файлов. Сегодня минимальное требование для проекта с большим числом картинок — от 300 Мбайт. (Важно помнить, что каждая картинка также занимает место на диске, а в большом проекте таких картинок может быть очень много.)
- Наличие необходимых ресурсов на сервере — памяти, выделяемой скрипту, наличие *акселератора PHP* и некоторых других настроек. Необходимо как минимум 128 Мбайт памяти, выделяемой для *PHP*, чтобы могли работать серьезные проекты (например, интернет-магазины). Она расходуется на построение структуры данных и выполнение кода при вызове каждой страницы сайта.
- Желательность двухуровневой архитектуры для работы сайтов с высокой посещаемостью или серверов с высокой загрузкой. Для этого устанавливается
  дополнительный веб-сервер (обычно *NGINX*), который принимает все запросы. Это позволяет стабилизировать использование памяти за счет ограничения
  числа процессов *Apache* и получить отказоустойчивую систему.
- Достаточно быстрый сервер баз данных. Для работы сайтов необходимо, чтобы сервер баз данных успевал обрабатывать запросы за короткое время.
- Желательность работы *PHP* и *FTP/SSH* от одного и того же пользователя. При разработке сайта обычно работают с файлами по FTP/SFTP-протоколу. Вместе с тем при работе в самой системе она создает файлы от имени того пользователя, под которым работает *PHP*. При несовпадении этих пользователей
  могут возникнуть серьезные проблемы в работе сайта или в возможностях его модификации.
- Рекомендуемый необходимый размер свободного места для восстановления копии - в 3 раза больше, чем размер копии.

Во многом соответствие сервера требованиям системы можно протестировать модулем [Монитор производительности](/learning/course/index.php?COURSE_ID=32&CHAPTER_ID=04904).

|  |
| --- |

### Как выбрать хостера

Большей части проблем по выбору хостинга можно избежать, если ознакомиться со списком сертифицированных хостингов, которые проверены компанией «1С-Битрикс». Список этих хостингов можно найти на [сайте компании](http://www.1c-bitrix.ru/products/cms/requirements.php#tab-hosting-link).

Для успешной установки и полноценной работы продукта необходимы следующее:

- Установка может быть сделана только в **корневую папку веб сервера**.
- Необходимо использовать веб сервер *Apache* 2.0 и выше.
- Хостер должен разрешать использование **.htaccess**.
- Необходимо использовать PHP не ниже версии **8.1** (рекомендуется 8.2).
- `safe_mode` должен быть отключен (инсталлятор блокирует установку продукта в этом режиме).
- `short_open_tag` включён.
- `memory_limit` не ниже 32 Мб для редакции *Старт*, не менее 64 Мб для редакции *Бизнес*.
- Наличие функций работы с сокетами для обновления продукта.
- Наличие библиотек: **Zlib** (компрессия - для ускорения загрузки обновлений), **GD lib** (отображение графиков), **Free Type** (работа CAPTCHA).
- Версия *MySQL* 8.0 и выше.
- Обязательно использование акселератора PHP (поддерживается акселератор OPcache).


  режим работы PHP как модуля *Apache* предпочтительнее (*CGI* настоятельно не рекомендуется, так как он не поддерживает работу акселератора. Лучше использовать *FastCGI*.)

**Примечание**: не рекомендуется использовать модуль **suhosin** или **mod_security** т.к. в ряде случаев эти модули препятствуют нормальной работе продуктов.

Протестировать конфигурацию сервера можно специальным скриптом [bitrix_server_test.php](http://www.1c-bitrix.ru/download/files/scripts/bitrix_server_test.php), который необходимо запустить на своём сервере.
