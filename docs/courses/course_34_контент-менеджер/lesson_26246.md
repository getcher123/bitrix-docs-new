# Примеры создания динамического меню

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 10247 — Пример создания статического меню](lesson_10247.md)
- [Следующий: 10243 — Карта сайта →](lesson_10243.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=34&LESSON_ID=26246

Существует несколько способов размещения на сайте динамического меню. Мы рассмотрим три, из них - два попроще, и один для опытных пользователей.



### Создаем динамическое меню

Какой из этих способов выбрать - зависит от ваших потребностей и структуры сайта. Например:

- Если вы просто расширяете ассортимент продукции, продаваемой через сайт, и вам достаточно включить новую товарную группу в уже существующий перечень - используйте первый способ.
- Второй способ пригодится, если вы решили не только продавать товары, но и оказывать услуги. Для услуг вы заведете отдельный инфоблок (ведь параметры услуг не совпадают с характеристиками товаров) и продавать их будете в отдельном разделе.
- И третий способ - самый гибкий. Он позволяет использовать в качестве пунктов меню разделы любого инфоблока.

### Первой способ: добавляем раздел

Самый простой способ - добавить к каталогу демо-сайта свои разделы и подразделы. Они сразу автоматически добавятся в основное меню.

Посмотрите, как это сделать, в коротком видеоролике:

### Второй способ: меню для нового инфоблока

Второй способ применяется, если нужно настроить меню на собственный инфоблок:

- добавляем инфоблок с его разделами и элементами
- в Публичной части создаем нужный раздел
- в визуальном редакторе размещаем в разделе компонент
  			Каталог
                       Комплексный компонент осуществляет вывод полного каталога товаров из определенного инфоблока.
  						[Описание компонента «Каталог (комплексный компонент)» в пользовательской документации.](http://dev.1c-bitrix.ru/user_help/detail.php?ID=62978)
  		 для работы с инфоблоками
- указываем в параметрах компонента наш созданный инфоблок  в качестве источника данных
- в разделе сайта будет показан наш инфоблок в виде каталога с его собственным меню

Эти действия подробно показаны в видеоролике:

### Третий способ: сложный

Этим способом можно создать динамическое меню, основанное на произвольном инфоблоке. Но он предполагает изменения в коде. Поэтому рекомендуется только для самых опытных и "продвинутых" контент-менеджеров.

Потребуется внести изменения в код. Будьте внимательны и аккуратны!

Сначала пропишем алгоритм действий. Затем покажем пример в видео.

- В Административной части в папке раздела создаем два файла меню - **.left.menu.php** (статическое) и **.left.menu_ext.php** (динамическое);
- Очищаем файл динамического меню **.left.menu_ext.php** и в него добавляем такой код:
- В коде требуется заменить значения трех параметров на актуальные значения для текущего инфоблока:

  - название типа инфоблока **IBLOCK_TYPE**
  - идентификатор инфоблока **IBLOCK_ID**
  - путь к разделам инфоблока **SECTION_URL**
- Отключаем использование
  			кеша
                      Кеш - это некое хранилище для ускорения просмотра информации на сайте. Когда пользователь просматривает информацию на сайте, то она не всегда запрашивается из базы данных, а берется из кеша.
  [Подробнее...](lesson_3270.md)
  		 для того, чтобы компонент меню обновлялся сразу при изменении данных. Рекомендуем отключать кеш в настройках самого
  			 компонента меню
                      Материал о работе с компонентами Вы ещё не изучали. Если такая настройка покажется Вам
  сложной,  можете вернуться к ней позже.
  Подробнее в уроке [Как настроить компонент](lesson_9165.md).
  ![](../../../images/courses/34/dev.1c-bitrix.ru/upload/medialibrary/448/type_cache_menu.png)
  		;
- Готово! Динамическое меню автоматически изменится при открытии раздела с данными из инфоблока.

В видеоролике эти действия показаны подробно на примере:

**Будьте внимательны** при замене пути к разделу в коде! Для основного сайта (сайта по умолчанию, обычно он называется **s1**) для параметра **SECTION_URL** достаточно скопировать содержимое поля **URL страницы раздела** из настроек инфоблока без `#SITE_DIR#`. Например путь может выглядеть так (catalog - название раздела, как books в видео):

```

// без ЧПУ
"SECTION_URL" => "/catalog/index.php?SECTION_ID=#ID#"

//с ЧПУ
"SECTION_URL" => "/catalog/#SECTION_CODE#/"
```

Пути могут отличаться от указанных на вашем конкретном сайте. Всегда проверяйте пути в настройках.
