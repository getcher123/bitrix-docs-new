# Опции монтирования

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 29410 — Выполнение всех агентов на Cron](lesson_29410.md)
- [Следующий: 29414 — Подключение IDE →](lesson_29414.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&LESSON_ID=29412

**Внимание!**

1. Для операций, описанных в данной главе, необходимы знания администрирования *nix-систем. Перед началом проведения данных операций рекомендуется сделать полный бекап *«Виртуальной машины»*.
2. Приведённые настройки выходят за рамки меню Виртуальной машины. Это означает, что информация - ознакомительная и применять её следует с чётким пониманием того что вы делаете и с собственной ответственностью за совершаемые действия. В нашей техподдержке рассматриваются только вопросы по работе пунктов меню ВМ.





Для обеспечения более высокой производительности файловой системы рекомендуем отключать изменение метки времени при чтении файлов и директорий: `noatime`, `nodiratime`.




Для этого в **/etc/fstab** нужно отредактировать (добавить в текущую строку) параметры в строке со своим **UUID**:




- для файловой системы XFS (используется в виртуальной машине)
  ```
  UUID=4556d97d-9e18-4152-a1ac-7bf7a609582c /    xfs    defaults,noatime,nodiratime    1 1
  ```
- для файловой системы EXT4
  ```
  UUID=4556d97d-9e18-4152-a1ac-7bf7a609582c /    ext4    defaults,noatime,nodiratime    1 1
  ```



где `UUID=4556d97d-9e18-4152-a1ac-7bf7a609582c` -— уникальный идентификатор диска, который можно узнать в консоли по команде `blkid`.


**Примечание**: Вместо **UUID** можно также использовать имя устройства: **/dev/sda1**, **/dev/sda2**, **/dev/sda3**. Или метку тома если она задана, например: LABEL=root.




После перезагрузки новые настройки начнут действовать.




Чтобы применить новые настройки, не перезагружая сервер, можно выполнить перемонтирование разделов командой:



```

mount -o remount,noatime,nodiratime /
```






**Примечание**: К решению проблемы производительности файловой системы нужно подходить творчески. Если, например, на диске есть еще кеш некоторых приложений, то от предложенных мер производительность может снизиться, так как многие приложения очищают кеш по метке доступа, которые в примере предлагается отключить. В некоторых случаях увеличение времени коммита может дать лучший результат, особенно если много оперативной памяти. Время коммита задается параметром `commit`. Для установки его в 120 секунд, например, необходимо добавить `commit=120`. То есть набор опций монтирования будет `defaults,noatime,commit=120`.


По умолчанию сброс данных и метаданных на диск происходит каждые 5 сек. Откладывание времени сброса, так же может уменьшить фрагментацию файлов на диске, если есть файлы, в которые часто происходит дописывание данных. Например логи.
