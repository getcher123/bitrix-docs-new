# Что нового

**Навигация**
- [← Оглавление курса](index.md)
- [Следующий: 29234 — Установка «1С-Битрикс: Веб-окружение» — Linux (BitrixEnv) →](lesson_29234.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&LESSON_ID=30746

Список изменений в актуальной версии BitrixVM 9.0.x.




## Версия 9.0.7, июнь 2025

Основные исправления:



- Исправлена ошибка отображения списка сайтов в меню машины на базе CentOS Stream 9 при использовании Percona Server 8.4.
- Исправлено однократное предупреждение, возникающее в списке сайтов меню машины на базе CentOS Stream 9 при использовании Percona Server 8.0.




RPM пакет обновлен и пересобран. Доступен для операционных систем:



- CentOS Stream 9
- Rocky Linux 9
- Alma Linux 9
- Oracle Linux 9




Скрипт для установки машины bitrix-env-9.sh обновлен. Поддерживает все четыре ОС.





## Версия 9.0.6, март 2025

Обновление ПО:



- percona-server 8.4.x (опционально)




Основные исправления:



- Добавлена возможность обновить Percona Server до версии 8.4.
- Реализована возможность установить виртуальную машину sh скриптом с указанием версии Percona Server: 8.0 или 8.4.
- По умолчанию плагин аутентификации для MySQL (Percona Server) изменен на caching_sha2_password.




RPM пакет обновлен и пересобран. Доступен для операционных систем:



- CentOS Stream 9
- Rocky Linux 9
- Alma Linux 9
- Oracle Linux 9




Скрипт для установки машины bitrix-env-9.sh обновлен. Поддерживает все четыре ОС.




## Версия 9.0.5, март 2025

Обновление ПО:



- nginx 1.26.3
- push-server 3.0.1




Основные исправления:



- NGINX обновлен до 1.26.3 (пакет bx-nginx 1.26.3), модуль headers-more до 0.38.
- Push-server обновлен до 3.0.1 (пакет bx-push-server 3.0.1), незначительные изменения.
- Исправлены важные ошибки безопасности.
- Исправлена ошибка отображения PHP предупреждений в меню машины, если версия PHP 8.4.
- Добавлен бэкап файла php.ini при повышении или понижении версии PHP.
- В конфигурацию NGINX добавлено новое правило для облачного хранилища Timeweb.Cloud (как s3 совместимое).
- В конфигурации NGINX расширены правила блокировки служебных файлов.
- По умолчанию отключен debug в Push сервере.
- Исправлены ошибки и предупреждения из логов системы, связанные с работой сервисов nginx, bvat, push, для совместимости с systemd.




RPM пакет обновлен и пересобран. Доступен для операционных систем:



- CentOS Stream 9
- Rocky Linux 9
- Alma Linux 9
- Oracle Linux 9




Скрипт для установки машины bitrix-env-9.sh обновлен. Поддерживает все четыре ОС.




## Версия 9.0.4, декабрь 2024

Основные исправления:



- Добавлена поддержка трех базовых операционных систем девятой серии: Rocky Linux 9.x, Alma Linux 9.x, Oracle Linux 9.x
- PHP 8.2 используется по умолчанию
- Добавлена возможность обновить PHP до версии 8.4
- Добавлена возможность понизить версию PHP с 8.4 на версии ниже
- Добавлена возможность включить и отключить в меню машины расширение xhprof для PHP
- HyperV: добавлен новый образ для ОС Windows Server 2025




RPM пакет обновлен и пересобран. Доступен для операционных систем:



- CentOS Stream 9
- Rocky Linux 9
- Alma Linux 9
- Oracle Linux 9




Скрипт для установки машины bitrix-env-9.sh обновлен. Поддерживает все четыре ОС.




## Версия 9.0.3, ноябрь 2024

Основные исправления:



- Роль [Sphinx](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&CHAPTER_ID=030254) возвращена и адаптирована для работы в VMBitrix 9-ой версии
- Роль [Transformer](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&CHAPTER_ID=030266) возвращена и адаптирована для работы в VMBitrix 9-ой версии
- Роль [NTLM](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&CHAPTER_ID=030272) возвращена и адаптирована для работы в VMBitrix 9-ой версии
- Готовые образы машины перешли на UEFI, на таблицу разделов GPT, на контроллеры SATA/SCSI
- Исправлены ошибки




Обновление ПО:



- bx-sphinx 2.2.11
- bx-mod_auth_ntlm_winbind 0.0.0
- libreoffice 24.8.2
- ffmpeg 5.1.x
- erlang 26.2.x
- rabbitmq 3.13.x




Список всех изменений:



- Исправлена ошибка в задаче обновления машины через ее меню
- Деактивирован запуск php в режиме fpm при повышении или понижении версии php через меню
- Исправлена ошибка возникающая при запуске httpd, если удален сайт по умолчанию и происходит процесс обновления машины
- Исправлена редко возникающая ошибка создания пула машины
- В sh скрипт установки машины добавлена проверка на архитектуру x86_64
- В sh скрипт установки машины добавлена предварительная установка пакета плагинов для dnf
- Добавлена возможность указать маску подсети при настройке сетевого интерфейса через меню
- Исправлена ошибка, возникающая при настройке IP адреса и параметров сети сервера через dhcp или вручную
- Роль Transformer возвращена и адаптирована для работы в VMBitrix 9-ой версии
- Добавлена ansible коллекция community.rabbitmq 1.3.0, появится при установке машины или ее обновлении
- Роль Sphinx возвращена и адаптирована для работы в VMBitrix 9-ой версии
- Исправлены накопившееся ошибки и обращения по работе роли Sphinx
- Добавлена возможность включить sphinx для сайта типа внешнее ядро (ext_kernel)
- Роль NTLM возвращена и адаптирована для работы в VMBitrix 9-ой версии
- Включение NTLM авторизации для сайта улучшено и выполняется через меню без дополнительной настройки внутри сайта
- Добавлена возможность отключить NTLM авторизацию для всех сайтов и удалить настройки NTLM для машины
- Исправлено дублирование параметра thread_stack в конфигурационном файле MySQL
- Изменен способ определения статуса сайта в меню машины для сайтов типа ядро (kernel) и типа внешнее ядро (ext_kernel)
- Готовые образы машины перешли на UEFI, на таблицу разделов GPT, на контроллеры SATA/SCSI
- VMWare: Virtual Hardware Version поднята до 14-ой версии в образах для Workstation Pro, Workstation Player, ESXi
- VMware: прекращена поддержка ESXi 6.5.x и ESXi 6.7.x в связи с EOL в конце 2022 года
- HyperV: образ 1 поколения машин HyperV больше не собирается и не поддерживается
- HyperV: новые образы машин собираются на базе 2 поколения машин HyperV
- HyperV: новые образы для HyperV собираются на базе 6 ОС: Windows 10, Windows 11, Windows Server 2012, Windows Server 2016, Windows Server 2019, Windows Server 2022. Выберите нужную вам ОС и версию
- Vagrant: добавлен образ для виртуальной среды разработки Vagrant. Используется среда виртуализации VirtualBox
- ProxmoX: добавлен диск в формате qcow2, предназначенный для импорта в виртуальные машины гипервизора ProxmoX




## Версия 9.0.2, сентябрь 2024

Основные исправления:



- Исправлена ошибка возникающая при установке дистрибутивов 23.х для сайта по умолчанию
- Исправлена ошибка умножения заданий на перевыпуск SSL сертификатов через крон (crontab)




## Версия 9.0.1, сентябрь 2024

Обновление ПО:



- nginx 1.26.2
- catdoc 0.95




Основные исправления:



- Nginx обновлен до 1.26.2 (пакет bx-nginx 1.26.2)
- Catdoc вынесен в отдельный пакет bx-catdoc 0.95
- Изменен способ определения статуса сайта в меню машины
- Исправлена ошибка выпуска ssl сертификатов от LetsEncrypt
- Локаль en_US.UTF-8 устанавливается по умолчанию, если ее нет в системе
- В sh скрипт добавлена установка базовых архиваторов (tar и так далее)
- В конфигурацию Nginx добавлено новое правило для облачного хранилища Selectel (как s3 совместимое)
- Деактивирован сбор телеметрии и ее отправка на агенте для mysqld (Percona Server 8.0.37 и выше)




## Версия 9.0.0, август 2024

В этой версии большой пакет изменений:



- Новая версия базовой операционной системы — CentOS Stream 9
- Адаптация работы механизмов (скрипты, роли и т.д.) виртуальной машины для ansible новой версии
- Полный переход на UTF-8
- Усилена безопасность
- Исправлены ошибки




Обновление ПО:



- ansible-core 2.14.2
- php 8.1 (8.2, 8.3)
- nginx 1.26.1
- percona server 8.0
- nodejs 20
- push-server 3.0.0
- redis 7.2




Софт:



- Вебсервер фронтенд — nginx (наш пакет bx-nginx)
- Вебсервер бэкенд — httpd
- База данных — percona server 8.0
- Пуш сервер — push на nodejs 20 (наш пакет bx-push-server)
- Кеширование — redis (нужен для push), memcached через меню
- Почта — msmtp как прежде (но лучше через админку продукта)
- Файрволл — firewalld
- Управление — меню на фронте и ansible на бэке (фиксируем версию ansible, наш пакет bx-ansible-core)




Версии:



- Ядро 5.14.0, python 3.9, openssl 3.2.2
- PHP 8.1 версия по умолчанию
- Возможность повысить версию PHP до 8.2 или 8.3
- Возможность понизить версию PHP с 8.3/8.2 на 8.1
- Доработаны правила для облачных хранилищ
- Nginx обновлен до версии 1.26.1
- В сборке nginx openssl обновлен до 3.2.2
- Роль push-server теперь устанавливает NodeJS 20-ой версии




RPM список:



- bitrix-env-9.0-0.el9.x86_64.rpm
- bx-ansible-core-2.14.2-4.el9.x86_64.rpm
- bx-nginx-1.26.1-0.el9.ngx.x86_64.rpm
- bx-push-server-3.0.0-0.el9.x86_64.rpm




Убрано, в сравнении с версией 7.5.x:



- добавление 2 и N машин в пул (удаление тоже)
- вынос отдельных ролей на машину(ы) в пуле (mysql, memcache, push, web и т.д.)
- на старте убран: sphinx, ntlm, transformer (предполагаем, что вернем эти роли позже)
- свернута поддержка: модуля scale, push на nginx, xmpp
- мониторинг скрыт
- убраны старые версии ПО: php версии с 5.6 по 8.0, percona server 5.7
- поддержка сайтов в кодировке windows-1251, теперь только utf-8
- скрипты bitrixsetup.php и restore.php сайта
- права sudo для пользователя bitrix
- beta версия






Оставить обратную связь о виртуальной машине версии 9.0.x можно [на форуме](https://dev.1c-bitrix.ru/community/forums/forum32/topic159152/).
