# bx-nginx

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 13188 — Репозиторий Bitrix](lesson_13188.md)
- [Следующий: 13284 — Apache/PHP →](lesson_13284.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&LESSON_ID=13282

В пакет **bx-nginx**, помимо самого *nginx (stable)*,  входят дополнительные модули:




- Модули mod-zip и headers-more используются в паре для быстрой отдачи архива файлов средствами nginx-сервера.
- Модуль `pagespeed`<!-- &lt;a href="https://www.modpagespeed.com/doc/build_ngx_pagespeed_from_source" target="_blank"&gt;pagespeed&lt;/a&gt; -->
   позволяет оптимизировать сервер для высокой скорости отдачи контента без каких-либо изменений содержимого контента. Есть  в сборке bx-nginx, но не используется в BitrixVM. Включен был по просьбам клиентов, настройка через меню BitrixVM не планируется, так как  в продуктах 1С-Битрикс используется [технология Композит](https://www.1c-bitrix.ru/composite/).
- Модуль `brotli` <!-- &lt;a href="https://github.com/google/ngx_brotli" target="_blank"&gt;brotli&lt;/a&gt; -->
  для поддержки нового стандарта компрессии данных<!-- , разработанный Google -->
  . Входит в сборку bx-nginx без настроек, конфигурация под него планируется в следующих версиях BitrixVM.








При установке bitrix-env создаются для nginx:




- настройки подключенных модулей bx-nginx, кроме модуля pagespeed.
- настройки отдачи через nginx файлов в облачных хранилищах<!-- Яндекс, Google, Cloudflare и других -->
  .
  В настройках главного модуля в продуктах 1С-Битрикс есть опция Быстрая отдача файлов через Nginx, при активации которой c помощью заголовка `X-Accel-Redirect` формируется специальная ссылка. Эта ссылка обрабатывается сервером nginx, а он уже проксирует запрос в подключенное хранилище и отдает запрошенный файл клиенту. Таким образом, освобождаются ресурсы backend-службы, которая обрабатывает php-запросы, а сама отдача файла выполняется обычно быстрее.
- настройки различных правил для Bitrix-сайта, в том числе блокировки доступа к ресурсам. Статика отдается nginx, динамика уходит на Apache.







Также есть варианты дополнительных настроек из сценариев через меню виртуальной машины:



- установка ssl-сертификатов Let's Encrypt,
- создание новых сайтов (в самом начале есть только один).
- работа только через https и другое
