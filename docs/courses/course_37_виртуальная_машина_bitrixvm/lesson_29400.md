# Подключение Swap-раздела

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 29398 — Увеличение размера LVM-раздела BitrixEnv](lesson_29398.md)
- [Следующий: 29402 — Ручная настройка memcached →](lesson_29402.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&LESSON_ID=29400

**Внимание!**

1. Для операций, описанных в данной главе, необходимы знания администрирования *nix-систем. Перед началом проведения данных операций рекомендуется сделать полный бекап *«Виртуальной машины»*.
2. Приведённые настройки выходят за рамки меню Виртуальной машины. Это означает, что информация - ознакомительная и применять её следует с чётким пониманием того что вы делаете и с собственной ответственностью за совершаемые действия. В нашей техподдержке рассматриваются только вопросы по работе пунктов меню ВМ.




Виртуальная машина *BitrixVM* поставляется с swap-разделом 256 МБ, а в [образе ami](http://www.1c-bitrix.ru/products/vmbitrix/) он по умолчанию не подключен. Поэтому в процессе эксплуатации может возникнуть необходимость в расширении раздела подкачки.




Как и в случае [с увеличением свободного места](/learning/course/index.php?COURSE_ID=37&CHAPTER_ID=08883), наиболее простой способ - добавить дополнительный диск и разместить раздел подкачки на нем, либо создать файл подкачки.




Для этого:



- подключаем к виртуальной машине диск или создаем файл подкачки:
  ```
  dd if=/dev/zero of=/swapfile bs=1M count=1024
  ```
- создаем на диске:
  ```
  mkswap /dev/sdb1
  ```
  или в файле swap-раздел:
  ```
  mkswap /swapfile
  ```
- подключаем раздел подкачки:
  ```
  swapon /dev/sdb1
  ```
  или файл подкачки:
  ```
  chmod 600 /swapfile
  swapon /swapfile
  ```
- и наконец, добавляем запись о новом разделе подкачки в `/etc/fstab`, чтобы не включать после каждой перезагрузки вручную:
  ```
  /dev/sdb1 none swap sw 0 0
  ```
  или о файле подкачки:
  ```
  /swapfile none swap sw 0 0
  ```
