# Особенности веб-программирования

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 5287 — Видео](lesson_5287.md)
- [Следующий: 5402 — Проблемы при кешировании меню →](lesson_5402.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43&LESSON_ID=4978

Одно из отличий веб-программирования от Windows программирования (однопользовательского) в том, что в Windows вам принадлежат все ресурсы компьютера, и почти неограниченное время. В вебе вам принадлежит лишь совсем чуть-чуть памяти и немного времени (обычно не более 30-90 секунд). Поэтому сложные и долгие расчеты – не для классических сайтов.

Основная задача веб-сайта (в 99% случаев) – это быстро вернуть посетителю запрошенную страничку и освободить ресурсы для обслуживания других посетителей. Именно для решения этой задачи существуют такие инструменты, как *NGINX*, *lighthttpd*, кэширование, **PHP-акселераторы** и другие. Для большинства сайтов с небольшой посещаемостью таких инструментов, имеющихся в наличии на практически каждом хостинге или почти в любой CMS, вполне достаточно.

Однако для более посещаемых проектов возникает необходимость дополнительной оптимизации.

Bitrix Framework достаточно хорошо ведет себя при большой нагрузке. Есть официальные результаты [тестирования](http://www.1c-bitrix.ru/products/cms/performance/#tab-test-link), с которыми можно познакомиться на сайте компании. Но нам интересен опыт реальной эксплуатации сложных, ресурсоемких проектов.

Сложным ресурсоемким проектом можно назвать проект, под 30 000 посещений, с количеством элементов в базе под 500 000 и больше, более 40 типов инфоблоков, самих инфоблоков больше 200. В ключевых инфоблоках по 150-200 свойств.

Что позволяет работать таким проектам:

- Инфоблоки выборки из которых можно делать на стандартном API;
- Кэширование.

Нюансы, на которые надо обращать внимание:

- При большом количестве свойств возникают проблемы, могут происходить и сбои: проблемы с изменением свойства элемента из административной части,  может  не выполняться фильтр по значению.
- Немного неудобно работать в административной части с таким большим кол-вом данных.



Самое главное это - проектирование инфоблоков. Также нужно быть внимательными с обработчиками по работе с инфоблоками, и с агентами. И при проектировании необходимо знать и учитывать особенности API. Например, выбирать элементы по `IBLOCK_CODE` или `IBLOCK_TYPE` хуже, чем по `IBLOCK_ID`. Это конкретный пример, таких вариаций очень много.

Сложные и объемные проекты лучше реализовывать на собственных серверах.  При этом рекомендуется использовать 2 сервера: отдельно для базы и для статики и кэша.

Опыт разработчиков проектов на Bitrix Framework показывает, что около 1 миллиона хитов на проекте – это реальный показатель, если уметь конфигурировать *MySQL*.

Есть и своеобразная «вилка»: база данных против надежности жесткого диска. Не кешировать данные - хуже для базы и лучше для диска. То есть если используется очень мощный сервер под БД, и он хорошо сконфигурирован, то это может быть реальной альтернативой файловому кешу.

**Примечание:** Для снижения нагрузки к базе данных и удобства работы с системой в Bitrix Framework используется хранение разнообразных данных в файловой системе. Подробнее про файлы и их влияние на производительность можно посмотреть в уроке [Структура файлов](/learning/course/index.php?COURSE_ID=43&LESSON_ID=2287).

**Ссылки по теме:**

- [Оптимизация веб-проектов](https://dev.1c-bitrix.ru/community/webdev/group/1/blog/) (Группа по вопросам производительности веб-проектов)
- [Производительность сайта в картинках](http://dev.1c-bitrix.ru/community/blogs/howto/1136.php) (Блог)
- [График времени генерации страниц сайта](https://dev.1c-bitrix.ru/community/blogs/Kobzar/1970.php) (Блог)
- [Оптимизация времени генерации страницы](http://dev.1c-bitrix.ru/community/webdev/user/8078/blog/optimizing-generation/) (Блог)
- [Количество запросов и время выполнения функции](http://dev.1c-bitrix.ru/community/webdev/user/10869/blog/1254/) (Сообщество разработчиков)
- [MySQL, InnoDB, Монитор производительности](http://dev.1c-bitrix.ru/community/webdev/user/23706/blog/1472/) (Оптимизация работы MySQL)
- [Семинар «Битрикс Хайлоад» — как это было, презентации, видео](http://habrahabr.ru/company/bitrix/blog/144808/) (habrahabr.ru)
