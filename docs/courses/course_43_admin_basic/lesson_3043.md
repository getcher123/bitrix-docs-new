# Замечания по $arParams и $arResult

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 11685 — Bitrix CLI](lesson_11685.md)
- [Следующий: 3488 — HTTP POST запросы →](lesson_3488.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43&LESSON_ID=3043

### $arParams

> **$arParams** - это предопределенная для компонента переменная, представляющая собой массив входных параметров компонента. Ключами в этом массиве являются названия параметров, а значениями - их значения.



Перед подключением компонента ко всем значениям параметров применяется функция [htmlspecialcharsEx](http://dev.1c-bitrix.ru/api_help/main/functions/string/htmlspecialcharsex.php). Исходные значения параметров сохраняются в этом же массиве с теми же ключами, но с префиксом **~**. Например, `$arParams["NAME"]` - входной параметр, к которому применена функция *htmlspecialcharsEx*, а `$arParams["~NAME"]` - исходный входной параметр.

Переменная `$arParams` является псевдонимом для члена класса компонента, поэтому все изменения этой переменной отражаются и на этом члене класса. В начале кода компонента должна быть произведена проверка входных параметров, инициализация не установленных параметров, приведение к нужному типу (например, **IntVal()**). Все эти изменения входных параметров будут доступны и в шаблоне. То есть параметры будут там уже проверенными и максимально безопасными. Дублирование подготовки параметров в шаблоне компонента не требуется.

### $arResult

> **$arResult** - это предопределенная для компонента переменная, в которую собирается результат работы компонента для передачи в шаблон. Перед подключением файла компонента эта переменная инициализируется пустым массивом **array()**.

Переменная `$arResult` является псевдонимом для члена класса компонента, поэтому все изменения этой переменной отражаются и на этом члене класса. Значит явно передавать в шаблон эту переменную не нужно, это сделают внутренние механизмы класса компонента.

### Ссылки в PHP

Ссылки (references) в PHP служат для того, чтобы к одним и тем же данным можно было обратиться по разным именам. Если переменные `$arParams` и `$arResult` изменены некоторым образом в коде компонента, то они будут доступны измененными и в шаблоне.

При этом нужно учитывать следующие нюансы:

- Если в компоненте написать код:
  `$arParams = & $arSomeArray;`
  то переменная `$arParams` будет отвязана от члена класса компонента и привязана к массиву `$arSomeArray`. В этом случае дальнейшие изменения `$arParams` не попадут в шаблон компонента.
- Если в компоненте написать код:
  `unset($arParams);`
  то это так же разорвет связь между `$arParams` и соответствующим членом класса компонента.
