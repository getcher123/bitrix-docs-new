# Пример-упражнение

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 3372 — Настройка базы данных Oracle](lesson_3372.md)
- [Следующий: 3594 — Оптимизация запросов к БД →](lesson_3594.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=32&LESSON_ID=3373

#### Пример-упражнение. Настройки MySQL для виртуальной машины




В качестве примера рассмотрим как настроена база данных *MySQL* в виртуальной машине *VMBitrix*.




Перейдите в папку `/etc/mysql` и посмотрите настройки MySQL для виртуальной машины. Выключите виртуальную машину и установите ей большее значение ОЗУ (например, 512 мб). Посмотрите, как изменились настройки в файле `/etc/mysql/conf.d/bvat.cnf`:


Для 256 мб:

```
[mysqld]
query_cache_size=32M
innodb_buffer_pool_size=32M
```


для 512 мб:

```
[mysqld]
query_cache_size=48M
innodb_buffer_pool_size=96M
```




Кроме того, при 512 мб система чувствует себя гораздо свободнее:


Доступная память при 256 мб:

```
# free
             total       used       free     shared    buffers     cached
Mem:        255676     224340      31336          0      33468      67964
-/+ buffers/cache:     122908     132768
Swap:       530136      51800     478336
```



Доступная память при 512 мб:

```
# free
             total       used       free     shared    buffers     cached
Mem:        515572     299208     216364          0       6944     186336
-/+ buffers/cache:     105928     409644
Swap:       530136          0     530136
```




Связано это с тем, что виртуальная машина *VMBitrix* содержит скрипты, активизирующиеся при загрузке и устанавливающие необходимые параметры системы. Ключевым параметром является объем оперативной памяти, установленный в системе.




**Примечание**: Кастомизацию настроек можно производить без отключения виртуальной машины. Для этого достаточно вносить изменения в файл `/etc/mysql/conf.d/z_bx_custom.cnf`.
