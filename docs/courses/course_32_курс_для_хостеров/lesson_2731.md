# Вкладка Масштабируемость

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 8645 — Вкладка Разработка](lesson_8645.md)
- [Следующий: 3377 — Пример нахождения мелких ошибок в производительности →](lesson_3377.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=32&LESSON_ID=2731

|  | ### Получаем количественные данные |
| --- | --- |




В модуле

			Монитор производительности

                    Монитор производительности показывает скорость работы сайта на хостинге, выявляет узкие места (скрипты на сайте, которые потребляют наибольшее число системных ресурсов) и основные ошибки настройки сервера.

[Подробнее ...](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=32&CHAPTER_ID=04904)

		  доступен встроенный инструмент тестирования нагрузки многопоточных и

			веб-кластерных


Модуль **Веб-кластер** — это комбинация технологических решений, которые позволяют распределить один сайт на несколько серверов, решая тем самым несколько задач:

1) обеспечение высокой доступности сайта;

2) его масштабирование в условиях возрастающей нагрузки;

3) балансирование нагрузки, трафика, данных между несколькими серверами.

[Подробнее](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=41&CHAPTER_ID=027950&LESSON_PATH=3911.27950)...

		 систем (Настройки &gt; Производительность &gt; Панель производительности, вкладка **Масштабируемость**).




![Монитор производительности](../../../images/courses/32/dev.1c-bitrix.ru/images/admin_expert/cluster/perfmon_test_1.png)




Для проведения теста настройте форму. Поясним некоторые поля.



- **Сервер**, который будет тестироваться. Для минимизации влияния самого тестирующего скрипта на результаты тестов рекомендуется запускать его не на тестируемых серверах, а на отдельном хосте.
  Также на тестируемом сайте необходимо на время проведения теста отключить опцию блокировки пользователя при большом количестве соединений (
  			Блокировать?
                      ![](../../../images/courses/32/dev.1c-bitrix.ru/images/admin_expert/cluster/block.png)
  		) в настройках модуля **Веб-аналитика**, вкладка **Настройки**, секция **Ограничение активности**.
- **Страница (оставьте пустым для системного теста)**. В поле указывается адрес страницы, к которой будут происходить обращения во время теста, например, к индексной странице. При пустом поле обращение будет происходить к
  			системной странице
                      /bitrix/admin/perfmon_panel.php?test=Y&show_page_exec_time=Y&show_sql_stat=N
  		;
- **Максимальная продолжительность теста (минут)**. Задаётся время в течение которого продолжается тест по достижению числа соединений, указанных в поле **Конечное количество одновременных соединений**, причем в каждом последующем шаге теста количество одновременных соединений будет одно и то же.




Нажмите **Начать тестирование**, и в реальном времени будут строиться: таблица с результатами, графики генерации **Страниц в секунду** и **Время генерации/получения страницы**.




![](../../../images/courses/32/dev.1c-bitrix.ru/images/admin_expert/cluster/test_graphic.png)


Таблица **Результаты**



Помимо колонок **№** теста и **Соединений**, пояснения к которым не требуются, в таблице также присутствуют следующие колонки:



- **Хитов** - общее количество
  			хитов
                      Хит – это запрос к веб-серверу для получения файла.
  		 произведенных за тест;
- **Ошибок** - в данном случае под ошибками понимается ответ сервера, отличающийся от `200 ОК`;
- **Страниц в секунду** - количество страниц отданных тестируемым сервером за секунду;
- **Время генерации страницы** - время генерации страницы на тестируемом сервере;
- **Время получения страницы** - время получения страницы от тестируемого сервера.







График **Страниц в секунду**



С увеличением количества одновременных соединений сервер должен отдавать больше страниц, поэтому при нормальных условиях график должен иметь тенденцию к росту.
Если при росте нагрузки график имеет горизонтальный вид, то это значит, что настройки не оптимальны или сервер начинает уже не справляться.



В тесте с одинаковым количеством соединений график не должен иметь провалов.







График **Время генерации/получения страницы**



С увеличением количества одновременных соединений время отдачи страниц клиентам будет также увеличиваться (синий график), а время генерации не должно меняться в широких пределах (красный график).







<!-- &lt;p&gt;&lt;div class="hint"&gt;&lt;b&gt;Пример:&lt;/b&gt;
&lt;p&gt;&lt;img src="/images/admin_expert/cluster/perfmon_test_2_sm.png" alt="Монитор производительности" border="0" height="538" width="600"&gt;&lt;/p&gt;

Проанализировав второй график, можно сделать выводы:
&lt;ul class="fa-check-square-o cr-templ"&gt;
 &lt;li&gt;вся система сбалансирована по нагрузке, с ее ростом не наступает деградация производительности системы (скорость генерации страниц сервером практически не изменяется, это видно на красном графике);&lt;/li&gt;
  &lt;li&gt;увеличивается время отдачи страниц клиентам, растет очередь (синий график).&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/p&gt; -->







|  | #### Документация по теме: |
| --- | --- |





- [Нагрузочное тестирование кластера, анализ различных сценариев и выводы](/learning/course/index.php?COURSE_ID=35&LESSON_ID=3001)
