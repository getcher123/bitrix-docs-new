# Типичные ошибки

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 2696 — Активация купона](lesson_2696.md)
- [Следующий: 30130 — Ошибка: Удалите настройку PHP mbstring.func_overload →](lesson_30130.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=32&LESSON_ID=2697

#### При попытке обновления выдаётся ошибка "Ошибка соединения с сервером обновлений: [110] Connection timed out."




Ошибка свидетельствует о том, что скрипт обновления не может подключиться к серверу обновлений www.1c-bitrix.ru на порт **80**. Причины могут быть следующие:



- недоступны функции работы с сокетами, в частности, **fsockopen()**;
- на сервере запрещены исходящие соединения к 80 порту;
- недостаточный объем памяти на сервере (Часто проявляется на VPS с виртуализацией OpenVZ и 256 Мб RAM.);
- проблема в работе сети.



Вам необходимо обратиться к администратору сервера, предоставив описание ошибки.








#### Ошибка при обновлении: [SITE_LICENSE_VIOLATION] Превышено количество лицензированых сайтов




Эта ошибка свидетельствует о том, что в системе либо не зарегистрировано ни одного сайта, либо все сайты деактивированы, либо превышено количество активных сайтов, разрешенных текущей лицензией.




Для решения проблемы и получения возможности загрузки и установки обновлений, необходимо или зарегистрировать в системе хотя бы один сайт, или активировать существующий из раздела, или деактивировать сайты до количества, разрешенных текущей лицензией:
Рабочий стол &gt; Настройки &gt; Настройки продукта &gt; Сайты &gt; Список сайтов.








#### Ошибка при обновлении [ERROR_WRONG_CODE]




Система обновлений продукта привязывается к конкретной установке и "запоминает" состояние системы после очередного обновления. Ошибка возникает в том случае, если текущее состояние не соответствует тому, которое было на момент последнего обновления. Этот механизм призван пресечь попытки обновления на одном лицензионном ключе неограниченного количества установок продукта.




Согласно лицензионному соглашению, на каждый лицензионный ключ допускается две установки системы: одна публичная и одна локальная (для разработчика), но недоступная из Интернета. С учетом этого система настроена так, что сохраняет данные о двух установках. При этом, если не переносить копию с локальной машины на сервер и назад - можно обновлять независимо обе копии, проблем не возникнет. Если же вам необходимо переносить продукт на локальную машину, то следует обновлять только одну копию из двух: либо на сервере, либо локальную (зависит от ваших предпочтений).




Аналогичным образом следует поступать при переносе сайта на новый сервер: скопировать структуру файлов и БД на новый сервер, после этого, не обновляя продукт на старом, удалить его сразу после обновления DNS.








#### Ошибка Class 'CUpdateExpertMode' not found




Ошибка на странице обновлений:




```
Class 'CUpdateExpertMode' not found (0)
/app/www/bitrix/modules/main/admin/update_system.php:50
#0: require_once /app/www/bitrix/admin/update_system.php:2
```




При этом класс CUpdateExpertMode определен в `/bitrix/modules/main/classes/general/update_client.php`.




Ситуация связана с влиянием **OpCache**. Параметр **opcache.validate_timestamps** (`/etc/php.d/opcache.ini`) имеет значение `0`, должно быть: `On`.
