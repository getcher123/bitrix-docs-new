# Как восстановить доступ администратора на сайт

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 23828 — Права на работу с Сайтами24](lesson_23828.md)
- [Следующий: 7174 — Настройка CAPTCHA →](lesson_7174.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=48&LESSON_ID=2161

Несомненно, администратор сайта должен обладать хорошей памятью. Особенно если сайтов много. И для каждого сайта свой пароль. И занимается администратор сайтами не одновременно, а периодически.

Но в какой-то момент может оказаться так, что один из паролей все-таки будет подзабыт, а других администраторов на сайте нет. В такой ситуации можно восстановить доступ администратору на сайт одним из нижеперечисленных способов.

### Способ первый

1. Доступ восстанавливается для пользователя с ID=1 (т.к. это первый пользователь, зарегистрированный в системе, и в связи с этим обладающий правами администратора). Поэтому для начала вспомните, какой логин был у этого пользователя (по умолчанию устанавливается **admin**).


2. Далее сохраните следующий скрипт в php-файл c любым именем:
  ```
  <?
  require($_SERVER['DOCUMENT_ROOT']."/bitrix/header.php");
  echo $USER->Update(1,array("PASSWORD"=>'Bitrix*123456'));
  echo $USER->LAST_ERROR;
  require($_SERVER['DOCUMENT_ROOT']."/bitrix/footer.php");
  ?>
  ```
3. Закачайте созданный скрипт через FTP в корневой каталог сайта `www/имя сайта/...` и
  			откройте его в браузере
                      Открыть - это значит набрать в адресной строке УРЛ сайта с указанием пути в файлу и имени файла.
  Например: http://ваш_сайт/папка_со скриптом/имя_скрипта.php
  		. После этого у пользователя с ID=1 (по умолчанию - администратор) установится пароль: `Bitrix*123456`
  **Примечание:** В коробочной версии *Битрикс24* файл со скриптом необходимо разместить в папке (например: `www/имя портала/pub` или другой), а не в корневой каталог.
4. Теперь авторизуйтесь на сайте под прежним логином (см. п. 1) и стандартным паролем (см. п. 3). В панели управления установите свой новый пароль.

Если доступ для неавторизованных пользователей закрыт, то перед процедурой восстановления пароля надо поправить файл **.access.php** в корне сайта, заменив:

```

$PERM["/"]["*"]="D";
```

на:

```

$PERM["/"]["*"]="R";
```

**Внимание!** Обязательно **удалите залитый файл со скриптом** **после восстановления пароля**, а также верните все внесенные изменения!

### Способ второй

1. Cохраните следующий скрипт в php-файл c любым именем:
  ```
  <?
  require($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/include/prolog_before.php");
  global $USER;
  $USER->Authorize(1);
  require($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/include/epilog_after.php");
  ?>
  ```
2. Закачайте созданный скрипт через FTP в корневой каталог сайта `www/имя сайта/...` и откройте его в браузере.
3. Зайдите на сайт (при этом ни логин, ни пароль не будут запрашиваться), и в административном разделе для своей учетной записи установите пароль.

**Внимание!** Обязательно **удалите залитый файл со скриптом** после восстановления пароля!

### Документация по теме

Изучите дополнительно:

- Как закрыть доступ к сайту другому администратору
                      Иногда бывают такие ситуации, когда необходимо "вчерашнему" администратору сайта закрыть доступ к этому сайту (например, при смене подрядчика, создавшего и теперь сопровождающего Ваш сайт). Как же это сделать, ведь у него, как у администратора, есть все "адреса/пароли/явки"?
  [Подробнее ...](lesson_11363.md)
