# Проблемы и решения

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 2452 — Клиент для XMPP](lesson_2452.md)
- [Следующий: 20912 — Возможности модуля Адреса и местоположения →](lesson_20912.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=48&LESSON_ID=2594

**Внимание!** Модуль удалён со всех редакций, проданных позднее октября 2020-го года. В установках, созданных ранее этой даты, модуль присутствует, но обновления по нему производятся только по проблемам безопасности.




#### Автозапуск сервера XMPP




Чтобы запустить XMPP вызывайте интерпретатор **PHP** (путь к нему можно посмотреть в настройках модуля XMPP) с параметром полного пути к файлу **xmppd.php**.




Пример:



```

c:\php\php.exe c:\www\bitrix\modules\xmpp\xmppd.php
```





Соответствующую команду следует добавить в автозагрузку вашей системы.




**Примечание:** В продукте *«1C-Битрикс: Виртуальная машина»* уже реализован автозапуск сервера XMPP, причем в случае его остановки он будет перезапущен автоматически.







#### Нестабильная работа в режиме SSL




Проблема с нестабильной работой в режиме SSL относится не столько к работе XMPP-сервера, сколько к работе PHP в данном режиме.



Проблему можно решить, используя дополнительное ПО, например, [stunnel](http://www.stunnel.org/). Эта программа работает на той же машине, что и xmpp сервер, держит соединение с клиентами по **ssl** и транслирует все запросы на порт **5222** без шифрования.








#### XMPP на разделяемом хостинге




Запуск сервера должен осуществляться на выделенном сервере или виртуальной машине (VPS).



Разделяемый хостинг не подходит, т.к. XMPP сервер - это фактически скрипт php, который исполняется неограниченно долгое время. Политика разделения ресурсов разделяемого хостинга не может позволить такое решение.



Кроме того, сервер должен монопольно занимать порт сервера **5222** для открытого доступа, это противоречит безопасности на разделяемом хостинге.
