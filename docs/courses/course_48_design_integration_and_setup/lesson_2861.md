# Настройки модуля

**Навигация**
- [← Оглавление курса](index.md)
- [← Предыдущий: 2651 — Поиск элементов инфоблока по их свойствам](lesson_2651.md)
- [Следующий: 2862 — Почтовые ящики →](lesson_2862.md)

Официальная страница урока: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=48&LESSON_ID=2861

Настройка модуля производится на странице Настройки &gt; Настройки продукта &gt; Настройки модулей &gt; Почта. Настройка не сложна и в большинстве своем значения полей ясны из их названия.




Если не используется Виртуальная машина

			VMBitrix


**«1C-Битрикс: Виртуальная машина»** - бесплатный программный продукт, готовый к немедленному использованию виртуальный сервер, полностью настроенный, протестированный и адаптированный для оптимальной работы как с продуктами «1С-Битрикс», так и с любыми PHP-приложениями.

[Подробнее](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=32&CHAPTER_ID=08809)...

		, то в настройках модуля почты необходимо указать командную строку запуска php-скрипта.




![](../../../images/courses/48/dev.1c-bitrix.ru/images/portal_admin/admin_sys/mail/post_settings_2_11.png)




Есть системные ограничения:




- На сервере не должно быть приложений, "слушающих" этот же адрес и порт.
- В Linux "слушать" 25
  			порт
  **Порт (англ. port)** — натуральное число, записываемое в заголовках протоколов транспортного уровня модели OSI (TCP, UDP, SCTP, DCCP). Используется для определения процесса-получателя пакета в пределах одного хоста.
  [Подробнее](https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D1%80%D1%82_(%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D1%8B%D0%B5_%D1%81%D0%B5%D1%82%D0%B8))...
  		 (вернее 1-1024) могут только приложения, запущенные от пользователя root, что не всегда возможно. Поэтому приходится обходить это ограничение при помощи настройки, например, **authbind**, при этом командная строка будет выглядеть примерно так: `authbind php -c /etc/php.ini`. Иногда удобнее настроить переадресацию на
  			файрволе
  **Файрвол, межсетевой экран (брандмауэр)** — технологический барьер, предназначенный для предотвращения несанкционированного или нежелательного сообщения между компьютерными сетями или хостами:
  [Подробнее](https://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D1%80%D0%B2%D0%BE%D0%BB)...
  		, то есть запустить сервер на порту, например, 20225, а перенаправление сделать с внешнего 25 на внутренний 20225.
- Чтобы внешние почтовые серверы могли достучаться до вашего, необходимо открыть этот порт в файрволе.
- Домены, выбранные в настройках почтового ящика, должны иметь DNS запись
  			"MX"
  **За́пись MX** (от англ. mail exchanger) — тип DNS-записи, предназначенный для маршрутизации электронной почты с использованием протокола SMTP.
  [Подробнее](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%BF%D0%B8%D1%81%D1%8C_MX)...
  		 (или "A") на IP-адрес, на котором "слушает"
  			SMTP
  **SMTP** (англ. Simple Mail Transfer Protocol — простой протокол передачи почты) — это широко используемый сетевой протокол, предназначенный для передачи электронной почты в сетях TCP/IP.
  [Подробнее](https://ru.wikipedia.org/wiki/SMTP)...
  		-сервер. Обычно сервер, который отвечает по заданному домену по протоколу *http*, содержит включенный на этом же адресе **SMTP**. Поэтому в большинстве случаев ничего настраивать не придется.



Если платформа и окружение настроены верно, то при нажатии на **Запустить SMTP-сервер** будет запущен php-скрипт, который будет слушать заданный порт на указанных хостах. И в случае входящих соединений он будет принимать входящие сообщения при помощи правил фильтрации модуля почты, а также будет сортировать и обрабатывать их.







**Примечание**: некоторые проблемы в работе почтовой системы (почта отправляется медленно; функция mail подвисает при отправке на некорректные адреса) решаются вынесением почты на

			cron.


**cron** — классический демон (компьютерная программа в системах класса UNIX), использующийся для периодического выполнения заданий в определённое время. Регулярные действия описываются инструкциями, помещенными в файлы crontab и в специальные каталоги.

[Подробнее](https://ru.wikipedia.org/wiki/Cron)...








|  | #### Документация по теме: |
| --- | --- |




- [Настройки модуля](https://dev.1c-bitrix.ru/user_help/service/mail/settings.php)
- [Пользовательская документация по модулю "Почта"](http://dev.1c-bitrix.ru/user_help/service/mail/index.php)
