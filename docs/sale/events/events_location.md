# События, связанные с местоположениями

**Примечание:**перечисленные ниже события устарели с версии 15.5.0, но в продукте сохранена обратная совместимость. Поэтому их можно использовать, если в настройках модуля **Интернет-магазин**отмечена опция **Включить обработку устаревших событий**. Либо вы можете использовать **события нового ядра**.



| Событие | Описание и параметры | Метод | С версии | До версии |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| OnCityAdd | Вызывается после добавления города. **Параметры** \| *ID* \| Идентификатор города \| \| --- \| --- \| \| *arFields* \| Массив полей города \| | *ID* | Идентификатор города | *arFields* | Массив полей города | AddCity | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор города |  |  |  |  |  |  |  |
| *arFields* | Массив полей города |  |  |  |  |  |  |  |
| OnCityDelete | Вызывается после удаления города. **Параметры** \| *ID* \| Идентификатор города \| \| --- \| --- \| | *ID* | Идентификатор города | DeleteCity | 4.0.6 | 15.5.0 |  |  |
| *ID* | Идентификатор города |  |  |  |  |  |  |  |
| OnCityUpdate | Вызывается после изменения города. **Параметры** \| *ID* \| Идентификатор города \| \| --- \| --- \| \| *arFields* \| Массив полей полей города \| | *ID* | Идентификатор города | *arFields* | Массив полей полей города | UpdateCity | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор города |  |  |  |  |  |  |  |
| *arFields* | Массив полей полей города |  |  |  |  |  |  |  |
| OnBeforeCityAdd | Вызывается перед добавлением города **Параметры** \| *arFields* \| Массив новых параметров. \| \| --- \| --- \| | *arFields* | Массив новых параметров. | AddCity | 4.0.6 | 15.5.0 |  |  |
| *arFields* | Массив новых параметров. |  |  |  |  |  |  |  |
| OnBeforeCityDelete | Вызывается перед удалением города. **Параметры** \| *ID* \| Код записи города \| \| --- \| --- \| | *ID* | Код записи города | DeleteCity | 4.0.6 | 15.5.0 |  |  |
| *ID* | Код записи города |  |  |  |  |  |  |  |
| OnBeforeCityUpdate | Вызывается перед обновлением города **Параметры** \| *ID* \| Код записи города. \| \| --- \| --- \| \| *arFields* \| Массив новых параметров города. \| | *ID* | Код записи города. | *arFields* | Массив новых параметров города. | UpdateCity | 4.0.6 | 15.5.0 |
| *ID* | Код записи города. |  |  |  |  |  |  |  |
| *arFields* | Массив новых параметров города. |  |  |  |  |  |  |  |
| OnRegionDelete | Вызывается после удаления региона. **Параметры** \| *ID* \| Идентификатор региона \| \| --- \| --- \| | *ID* | Идентификатор региона | CSaleLocation::DeleteRegion | 12.0.0 | 15.5.0 |  |  |
| *ID* | Идентификатор региона |  |  |  |  |  |  |  |
| OnBeforeRegionDelete | Вызывается до удаления региона, может быть использовано для отмены удаления. **Параметры** \| *ID* \| Идентификатор региона \| \| --- \| --- \| | *ID* | Идентификатор региона | CSaleLocation::DeleteRegion | 12.0.0 | 15.5.0 |  |  |
| *ID* | Идентификатор региона |  |  |  |  |  |  |  |
| OnRegionUpdate | Вызывается после обновления региона. **Параметры** \| *ID* \| Идентификатор региона \| \| --- \| --- \| \| *arFields* \| Массив полей региона \| | *ID* | Идентификатор региона | *arFields* | Массив полей региона | CSaleLocation::UpdateRegion | 12.0.0 | 15.5.0 |
| *ID* | Идентификатор региона |  |  |  |  |  |  |  |
| *arFields* | Массив полей региона |  |  |  |  |  |  |  |
| OnBeforeRegionUpdate | Вызывается до обновления региона, может быть использовано для отмены или модификации данных **Параметры** \| *ID* \| Идентификатор региона \| \| --- \| --- \| \| *arFields* \| Массив полей региона \| | *ID* | Идентификатор региона | *arFields* | Массив полей региона | CSaleLocation::UpdateRegion | 12.0.0 | 15.5.0 |
| *ID* | Идентификатор региона |  |  |  |  |  |  |  |
| *arFields* | Массив полей региона |  |  |  |  |  |  |  |
| OnBeforeRegionAdd | Вызывается перед добавлением региона. **Параметры** \| *arFields* \| Массив полей региона. \| \| --- \| --- \| | *arFields* | Массив полей региона. | CSaleLocation::AddRegion | 12.0.0 | 15.5.0 |  |  |
| *arFields* | Массив полей региона. |  |  |  |  |  |  |  |
| OnRegionAdd | Вызывается после добавлением региона **Параметры** \| *ID* \| Идентификатор региона \| \| --- \| --- \| \| *arFields* \| Массив полей региона \| | *ID* | Идентификатор региона | *arFields* | Массив полей региона | CSaleLocation::AddRegion | 12.0.0 | 15.5.0 |
| *ID* | Идентификатор региона |  |  |  |  |  |  |  |
| *arFields* | Массив полей региона |  |  |  |  |  |  |  |
| OnCountryAdd | Вызывается после добавления страны **Параметры** \| *ID* \| Идентификатор страны \| \| --- \| --- \| \| *arFields* \| Массив полей страны \| | *ID* | Идентификатор страны | *arFields* | Массив полей страны | AddCountry | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор страны |  |  |  |  |  |  |  |
| *arFields* | Массив полей страны |  |  |  |  |  |  |  |
| OnCountryDelete | Вызывается после удаления страны. **Параметры** \| *ID* \| Идентификатор страны \| \| --- \| --- \| | *ID* | Идентификатор страны | DeleteCountry | 4.0.6 | 15.5.0 |  |  |
| *ID* | Идентификатор страны |  |  |  |  |  |  |  |
| OnCountryUpdate | Вызывается после изменения страны **Параметры** \| *ID* \| Идентификатор страны \| \| --- \| --- \| \| *arFields* \| Массив полей страны \| | *ID* | Идентификатор страны | *arFields* | Массив полей страны | UpdateCountry | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор страны |  |  |  |  |  |  |  |
| *arFields* | Массив полей страны |  |  |  |  |  |  |  |
| OnBeforeCountryAdd | Вызывается перед добавлением страны. **Параметры** \| *arFields* \| Массив новых параметров страны \| \| --- \| --- \| | *arFields* | Массив новых параметров страны | AddCountry | 4.0.6 | 15.5.0 |  |  |
| *arFields* | Массив новых параметров страны |  |  |  |  |  |  |  |
| OnBeforeCountryDelete | Вызывается перед удалением страны. **Параметры** \| *ID* \| Идентификатор страны \| \| --- \| --- \| | *ID* | Идентификатор страны | DeleteCountry | 4.0.6 | 15.5.0 |  |  |
| *ID* | Идентификатор страны |  |  |  |  |  |  |  |
| OnBeforeCountryUpdate | Вызывается перед обновлением страны. **Параметры** \| *ID* \| Идентификатор страны \| \| --- \| --- \| \| *arFields* \| Массив новых параметров страны \| | *ID* | Идентификатор страны | *arFields* | Массив новых параметров страны | UpdateCountry | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор страны |  |  |  |  |  |  |  |
| *arFields* | Массив новых параметров страны |  |  |  |  |  |  |  |
| OnLocationDelete | Вызывается после удаления местоположения **Параметры** \| *ID* \| Идентификатор местоположения \| \| --- \| --- \| | *ID* | Идентификатор местоположения | Delete | 4.0.6 | 15.5.0 |  |  |
| *ID* | Идентификатор местоположения |  |  |  |  |  |  |  |
| OnLocationDeleteAll | Вызывается после удаления всех местоположений. Параметров нет | DeleteAll | 4.0.6 | 15.5.0 |  |  |  |  |
| OnLocationAdd | Вызывается после добавления местоположения **Параметры** \| *ID* \| Идентификатор местоположения \| \| --- \| --- \| \| *arFields* \| Массив полей местоположения \| | *ID* | Идентификатор местоположения | *arFields* | Массив полей местоположения | AddLocation | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор местоположения |  |  |  |  |  |  |  |
| *arFields* | Массив полей местоположения |  |  |  |  |  |  |  |
| OnLocationUpdate | Вызывается после обновления местоположения. **Параметры** \| *ID* \| Идентификатор местоположения \| \| --- \| --- \| \| *arFields* \| Массив полей местоположения \| | *ID* | Идентификатор местоположения | *arFields* | Массив полей местоположения | UpdateLocation | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор местоположения |  |  |  |  |  |  |  |
| *arFields* | Массив полей местоположения |  |  |  |  |  |  |  |
| OnBeforeLocationAdd | Вызывается перед добавлением местоположения **Параметры** \| *arFields* \| Массив новых параметров местоположения \| \| --- \| --- \| | *arFields* | Массив новых параметров местоположения | AddLocation | 4.0.6 | 15.5.0 |  |  |
| *arFields* | Массив новых параметров местоположения |  |  |  |  |  |  |  |
| OnBeforeLocationDelete | Вызывается перед удалением местоположения. **Параметры** \| *ID* \| Код записи местоположения \| \| --- \| --- \| | *ID* | Код записи местоположения | Delete | 4.0.6 | 15.5.0 |  |  |
| *ID* | Код записи местоположения |  |  |  |  |  |  |  |
| OnBeforeLocationDeleteAll | Вызывается перед удалением всех местоположений. Параметров нет. | DeleteAll | 4.0.6 | 15.5.0 |  |  |  |  |
| OnBeforeLocationUpdate | Вызывается перед изменением местоположения. **Параметры** \| *ID* \| Идентификатор местоположения \| \| --- \| --- \| \| *arFields* \| Массив полей местоположения \| | *ID* | Идентификатор местоположения | *arFields* | Массив полей местоположения | UpdateLocation | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор местоположения |  |  |  |  |  |  |  |
| *arFields* | Массив полей местоположения |  |  |  |  |  |  |  |
| OnLocationGroupAdd | Вызывается после добавления группы местоположений **Параметры** \| *ID* \| Идентификатор группы местоположений \| \| --- \| --- \| \| *arFields* \| Массив полей группы местоположений \| | *ID* | Идентификатор группы местоположений | *arFields* | Массив полей группы местоположений | Add | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор группы местоположений |  |  |  |  |  |  |  |
| *arFields* | Массив полей группы местоположений |  |  |  |  |  |  |  |
| OnLocationGroupDelete | Вызывается после удаления группы местоположений. **Параметры** \| *ID* \| Идентификатор группы местоположений \| \| --- \| --- \| | *ID* | Идентификатор группы местоположений | Delete | 4.0.6 | 15.5.0 |  |  |
| *ID* | Идентификатор группы местоположений |  |  |  |  |  |  |  |
| OnLocationGroupUpdate | Вызывается после после группы местоположений **Параметры** \| *ID* \| Идентификатор группы местоположений \| \| --- \| --- \| \| *arFields* \| Массив полей группы местоположений \| | *ID* | Идентификатор группы местоположений | *arFields* | Массив полей группы местоположений | Update | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор группы местоположений |  |  |  |  |  |  |  |
| *arFields* | Массив полей группы местоположений |  |  |  |  |  |  |  |
| OnBeforeLocationGroupAdd | Вызывается перед добавлением группы местоположений. **Параметры** \| *arFields* \| Массив новых параметров группы местоположений \| \| --- \| --- \| | *arFields* | Массив новых параметров группы местоположений | Add | 4.0.6 | 15.5.0 |  |  |
| *arFields* | Массив новых параметров группы местоположений |  |  |  |  |  |  |  |
| OnBeforeLocationGroupDelete | Вызывается перед удалением группы местоположений. **Параметры** \| *ID* \| Код записи группы местоположений \| \| --- \| --- \| | *ID* | Код записи группы местоположений | Delete | 4.0.6 | 15.5.0 |  |  |
| *ID* | Код записи группы местоположений |  |  |  |  |  |  |  |
| OnBeforeLocationGroupUpdate | Вызывается перед изменением группы местоположений **Параметры** \| *ID* \| Идентификатор группы местоположений \| \| --- \| --- \| \| *arFields* \| Массив полей группы местоположений \| | *ID* | Идентификатор группы местоположений | *arFields* | Массив полей группы местоположений | Update | 4.0.6 | 15.5.0 |
| *ID* | Идентификатор группы местоположений |  |  |  |  |  |  |  |
| *arFields* | Массив полей группы местоположений |  |  |  |  |  |  |  |
